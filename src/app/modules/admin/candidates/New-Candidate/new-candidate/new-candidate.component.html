

<div style="display:none">
    <div #pdfCandidates>
        <div *ngIf="printCandidates">
            <div *ngFor="let printCandidate of printCandidates">
                <h1>{{printCandidate['name']}} </h1>
                <hr>
                <table style="width:120%">
                    <tr>
                        <td colspan="2">
                            <p><b>Name</b>: {{printCandidate['name']}} </p>
                            <p><b>Designation</b>: {{printCandidate['designation']}} </p>
                            <p><b>Location</b>: {{printCandidate['location']}} </p>
                            <p><b>Company</b>: {{printCandidate['currentEmployer']}} </p>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:50%">
                            <p><b>Email</b>:
                                {{printCandidate['Email']}} 
                            </p>
                            <p><b>Candidate Status</b>: {{printCandidate['active'] ? 'Active' : 'inactive'}} </p>
                            <p><b>Salary: </b>
                                {{printCandidate['salary']}}
                            </p>
                        </td>
                        <td style="width:50%">
                            <p><b>MobileNumber</b>:
                                {{printCandidate['mobileNumber']}} 
                            </p>
                            <p><b>Relocate</b>: {{printCandidate['relocate'] ? 'Yes' : 'No'}}</p>
                            <p><b>Experience</b>: {{printCandidate['experience']}} Yrs</p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Candidate Skills: </b>
                            : {{printCandidate['skills']}}
                        </td>
                    </tr>
                </table>
                <br>
                <h4>Candidate Overview</h4>
                <div [innerHTML]="printCandidate['overview']"></div>
                <br><br><br>
            </div>
        </div>
    </div>
</div>
<div class="bg-white" flexLayout="column" style="width:100%;height: 100%;margin-top: -98px !important;">
<div >
 <button id="btnEditCandidateDialog" hidden="true"  (click)="openDialogModal(EditCandidateDialog, '1800px', '800px')" mat-menu-item  style="text-align: left !important;" >
</button>
</div>
<button id="btnUploadCandidateResume" hidden="true"  (click)="openDialogModal(UploadCandidateResume, '400px', '250px')" mat-menu-item  style="text-align: left !important;" >
</button>
<div class="page-layout simple fullwidth docs" style="background-color: white !important;">
    <!-- CONTENT -->
    <div class="center" fxFlex="100" style="background-color: #F5F5F5 !important;">
        <div class="headercontainer" style="margin-bottom: -1% !important;">
            <div class="flex-container" fxLayout="row" fxLayout.xs="column">
            <mat-card class="child-1">
                <!-- <span><h2><b>Candidate Profile</b></h2></span> -->

                <div class="card-avatar" style="display: flex !important;">
                    <a (click)="profileInput.click()" style="cursor:pointer;display: inline-block !important;" id="lnkUpload"
                    title="Upload Profile Image">
                    <img *ngIf="!candidateprofileimageURL" fxFlex="75"
                      src="../../../../assets/images/avatars/profile.jpg" style="margin-bottom: 15px;height: 100px;vertical-align: top;border: none;border-radius: 50%;width:103px;" />

                     <img *ngIf="candidateprofileimageURL"  fxFlex="75" style="margin-bottom: 15px;height: 100px;vertical-align: top;border: none;border-radius: 50%;width:103px;" [src]="candidateprofileimageURL"
                      width="180"/>
 
                    <input #profileInput type="file" id="fileInput" (change)="onFileInput($event)"
                      style="display:none;" />
                  </a>
<span> 
<span style="
                 
                  font-size: 14px;
                  font-weight: 600;
                  color: #449DED !important;
                 ">{{commonfieldName}}</span> <br>
                 <span> 
                    <b> Job Site on:</b><br> {{CandidateAddDate}}<br><b> Recruiter: </b> <br> {{HiringManager}}
                 </span>
                </span>
                  <div style="text-align: center !important;margin-bottom: 2% !important;">
                    <a *ngIf="candidateprofileimageURL" (click)="profileInput.click()" style="cursor:pointer;text-decoration: none;" id="lnkUpload">Change | </a> 
                    <a *ngIf="candidateprofileimageURL" (click)="removeProfileImage()" style="cursor:pointer; text-decoration: none;">Remove</a>
                 </div>
                  </div>
            </mat-card> 
            
            <div *ngIf="skipCandidate" style="margin-left: 40%;">  
            <mat-card class="child-3">
                <div fxFlex="23" class="headercol3" fxLayoutAlign="start center">
                    <span style="width: 15px !important;"></span>
                    <button *ngIf="prevCandidateId" style="color: rgb(17, 111, 191) !important;border: none !important; background-color: none !important;" (click)="PreviousNextCandidate(prevCandidateId)">
                        <mat-icon style="color: black !important;margin-top: 2% !important;">skip_previous</mat-icon>
                    </button>
                    &nbsp;&nbsp;
                    <div class="mat-caption" style="text-align: center !important;color: #B8C0C3 !important;font-size: 14px;width: 140px !important;color: #449DED !important;">{{ commonfieldName }}</div>&nbsp;&nbsp;
                    <button *ngIf="nextCandidateId" style="color: rgb(17, 111, 191) !important;border: none !important; background-color: none !important;" (click)="PreviousNextCandidate(nextCandidateId)">
                        <mat-icon style="color: black !important;margin-top: 2% !important;">skip_next</mat-icon>
                    </button>
                </div>
            </mat-card>
        </div>
        <button mat-button [matMenuTriggerFor]="userMenu" class="user-button">
            <div fxLayout="row" fxLayoutAlign="center center">
                <mat-icon class="s-24" fxShow.xs>more_vert</mat-icon>
            </div>
        </button>
        <mat-menu #userMenu="matMenu" [overlapTrigger]="false">
            <button (click)="openDialogModal(EditCandidateDialog, '1800px', '800px')"  mat-menu-item  style="text-align: left !important;">
              <!-- <mat-icon>edit_location</mat-icon> -->
              <span>
                <a style="color: #000;cursor: pointer;" >Edit</a>
              </span>
          </button>
          <button *ngIf="editCandidateGetData?.Active == false" (click)="ChangeCandidateStatus(true)" mat-menu-item  style="text-align: left !important;">
            <!-- <mat-icon>delete</mat-icon> -->
            <span>
              <a style="color: #000;cursor: pointer;"  >Activate</a>    
            </span>
        </button>
          <button *ngIf="editCandidateGetData?.Active == true" (click)="ChangeCandidateStatus(false)" mat-menu-item  style="text-align: left !important;">
            <!-- <mat-icon>delete</mat-icon> -->
            <span>
              <a style="color: #000;cursor: pointer;"  >Archive</a>    
            </span>
        </button>
        <!-- <button (click)="deleteCandidate()" mat-menu-item  style="text-align: left !important;">
           <span>
            <a style="color: #000;cursor: pointer;"  >Delete</a>    
          </span>
      </button> -->
     
        
      <button (click)="printDescription()" mat-menu-item  style="text-align: left !important;">
        <!-- <mat-icon>vpn_lock</mat-icon> -->
        <span>
          <a style="color: #000;cursor: pointer;" >Print</a>
        </span>
    </button>
 
<button mat-menu-item (click)="openDialogModal(ShareCandidateDialog, '500px', '250px')" [ngStyle]="{'cursor': isdeactivateIcon === true ? 'not-allowed'  : 'pointer','width':'auto!important','height':'auto!important'}" [disabled]="isdeactivateIcon" style="text-align: left !important;" disabled>
  <!-- <mat-icon>import_contacts</mat-icon> -->
  <span>
    Share
  </span>
</button>
      </mat-menu>
      <div *ngIf="skipCandidate">  
            <br> 
            <a routerLink="/candidates" class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded">
                Close
            </a>
      <!-- <button mat-raised-button class="btnclosecandidate" text="close"  color="warn" routerLink="/candidates" tabindex="-1"
      style="cursor:pointer;height:35px !important;min-width: 50px !important;">
  <svg class="mat_icon_svg" style="height: 20px;width: 20px;"
       >
      <use matTooltip="close" height="20" width="20" fill="white"
           xlink:href="/assets/icons/material-icons/maticons.svg#icon-clear">
      </use>
  </svg>
</button> -->

</div>

    </div>
    </div>
    <br>
        <div class="container" fxLayout="column" fxLayout.md="row" fxLayoutGap="20px">
            <div class="cardWrap" fxLayout.lt-md="column" fxLayout.md="column"  fxLayout="row" fxFlex.md="100"  fxLayoutGap="10px" >
            <div fxFlex.lt-md="100" fxFlex="25" >
                <div fxLayout="row" class="col1row1" fxLayout.lt-md="column" style="margin-bottom: 10px;">
                   
                    <!-- <mat-card fxFlex="100" > -->
                            <mat-accordion fxFlex="100">
                                <mat-expansion-panel [expanded]="true">
                                    <mat-expansion-panel-header>
                                        <span style="font-weight: bold;color: #449DED !important">Profile</span>
                                    </mat-expansion-panel-header>
                        <mat-card-content fxLayout="column">
                            <div fxLayout="row" fxFlex="100"> 

                                <div fxLayout="column" fxFlex="100">
                                    <span style="padding-right: 1px;"><b> Designation : </b> <br>{{ candidate?.designation }}</span>    
                                        <!-- Designation :  {{ candidate['Designation'] }}  -->
                                       
                                                                    
                                    <span>
                                       <b> Current Employer : </b> <br>{{ candidate?.currentEmployer }}
                                    </span>
                                    <span>
                                       <b>Total Years of Experience : </b> {{ candidate?.experience }}
                                    </span>
                                    <span>
                                       <b> Current Salary : </b> <br>{{  candidate?.salary }}
                                    </span>
                                    <span>
                                      <b>  Date Of Birth : </b><br> {{ candidate?.dateOfBirth | date:"dd/MM/yyyy"}}
                                    </span>
                                    <span>
                                        <!-- Email :  {{ candidate['Email']}} -->
                                      <b>  Email : </b> <br>{{ candidate?.email}}
                                    </span>
                                    <span>
                                       <b> Contact no : </b><br> {{ candidate?.mobileNumber}}
                                    </span>
                                    <span>
                                       <b> Location : </b><br> {{ candidate?.location}}
                                    </span>
                                   
                                    <span>
                                       <b> Re - Locate :</b> <span  *ngIf="candidate?candidate['relocate'] = 1 : elseBlock1">
                                        Yes
                                    </span>
                                         
                                          <ng-template #elseBlock1>
                                            <span>No</span>
                                          </ng-template>
                                        </span>
                                     
                                    <br>
                                    <span>
                                            <b style="color:#858585 !important;">   EDUCATION: </b> </span>
                                       <div style="width: 170%;" *ngFor="let Education of CandidatEducationInfo">
                                        <!-- <div fxFlex.lt-md="100" fxFlex="100" >
                                     <b>   <span >{{Education.To_Year  }}</span> - 
                                        <span  >{{Education.From_Year  }}</span> </b>
                                        <span style="margin-left: 1%;">{{Education.Qualification}}</span>
                                       
                                       <b> <span style="margin-left: 5%;color: blue;">{{Education.Score }} % </span> 
                                        <span style="margin-left: 5%;">{{Education.College_University}}</span>
                                    </b>

                                        </div> -->
                                        <div fxFlex.lt-md="100" fxFlex="100">
                                            <b>
                                                <span>{{Education.To_Year}}</span> -
                                                <span>{{Education.From_Year}}</span>
                                            </b>
                                            <br>
                                            <span>{{Education.Qualification}}</span>
                                            <br>
                                            <b>
                                                <span style="color: blue;">{{Education.Score}}%</span>
                                                <br>
                                                <span>{{Education.College_University}}</span>
                                            </b>
                                        </div>
                                        
                                    </div>&nbsp;&nbsp; 

                                    <span>
                                        
                                        <b style="color:#858585 !important;">  EXPERIENCE: </b>


                                    </span>
                                <div  style="width: 165%;" *ngFor="let Experiance of CandidatExperiance">
                                        <b>   <span >{{Experiance.Joinned   }}</span> - 
                                            <span  >{{Experiance.Relived  }}</span> </b><br>
                                        <span >{{ Experiance.CompanyName }}</span><br>
                                        <span >{{ Experiance.Designation }}</span><br>
                                        <span  >{{ Experiance.Place }}</span>
                                     </div>&nbsp;&nbsp; 
                                    
                                     <span>
                                        <b style="color:#858585 !important;">  Awards And Certificate: </b>

                                    </span>
                                <div  style="width: 115%;" *ngFor="let Award of CandidateAwardsAndCertificate">
                                        <b>   <span >{{Award.AwardYear}}</span> </b>
                                         <span style="margin-left: 5%;" >{{ Award.AwardsAndCertificateby }}</span>
                                        <span style="margin-left: 5%;">{{ Award.AwardsAndCertificateDetails }}</span>
                                      </div>&nbsp;&nbsp;

                                </div>
                            </div>

                             

                        <div fxLayout="row" class="col1row3" fxLayout.lt-md="column"  style="margin-bottom: 10px;display: block !important;">
                   
                            
                                  <div>
                                 <div style="margin-bottom: 1% !important;">
                                    <span><b>My Social Networks</b></span>
                                </div> 
                                <span style="display: block !important;text-align: center !important;flex-direction: column !important;box-sizing: border-box !important;">
                                    <button style="width: 18px;" class="social_btn" [disabled]="this.firstFormGroup?(this.firstFormGroup.get('facebook').value == undefined || this.firstFormGroup.get('facebook').value == null || this.firstFormGroup.get('facebook').value == ''): true" (click)="redirecttoSocialNetwork(this.firstFormGroup.get('facebook').value)">
                                        <img src="../../../../assets/images/logos/facebook.png" style="height: 20px !important;cursor: pointer !;">
                                      </button>
                                      <button class="social_btn" [disabled]="this.firstFormGroup?(this.firstFormGroup.get('linkedin').value == undefined ||this.firstFormGroup.get('linkedin').value == null || this.firstFormGroup.get('linkedin').value == ''): true" (click)="redirecttoSocialNetwork(this.firstFormGroup.get('linkedin').value)">
                                      <img style="height: 20px !important;"
                                      src="../../../../assets/images/logos/linkedin.png"/></button>
                                      <button class="social_btn" [disabled]="this.firstFormGroup?(this.firstFormGroup.get('twitter').value == undefined || this.firstFormGroup.get('twitter').value == null || this.firstFormGroup.get('twitter').value == ''): true" (click)="redirecttoSocialNetwork(this.firstFormGroup.get('twitter').value)">
                                      <img style="height: 20px !important;"
                                      src="../../../../assets/images/logos/twitter.png"/></button>
                                      <button class="social_btn" [disabled]="this.firstFormGroup?(this.firstFormGroup.get('github').value == undefined || this.firstFormGroup.get('github').value == null || this.firstFormGroup.get('github').value == ''): true" (click)="redirecttoSocialNetwork(this.firstFormGroup.get('github').value)">
                                      <img style="height: 20px !important;"
                                      src="../../../../assets/images/logos/GitHub.png"/></button>
                                      <button class="social_btn" [disabled]="this.firstFormGroup?(this.firstFormGroup.get('stackoverflow').value == undefined || this.firstFormGroup.get('stackoverflow').value == null || this.firstFormGroup.get('stackoverflow').value == ''): true" (click)="redirecttoSocialNetwork(this.firstFormGroup.get('stackoverflow').value)">
                                      <img style="height: 20px !important;"
                                      src="../../../../assets/images/logos/StackOverflow.png"/></button>
                                </span>
                                </div>
                               
                        </div>
                    </mat-card-content>
                </mat-expansion-panel>
                </mat-accordion>
                    <!-- </mat-card> -->
                    
                </div>
              
               
            </div>
          
           <div fxFlex.lt-md="100" fxFlex="75" fxLayoutGap="5px"> 
                <mat-tab-group dynamicHeight animationDuration="0ms" style="background-color: white !important;">
                    <mat-tab fxFlex="100">
                        <ng-template mat-tab-label>
                            <span style="color: #257DFD;">Screening</span>
                          </ng-template>
                <div fxLayout="row" class="col3row" fxLayout.lt-md="column">
                    <mat-card fxFlex="100">
                        <div style="overflow-y: scroll;font-size:15px !important">
                            <div fxLayout="column">
                            <div fxLayout="row" fxFlex="100">
                            <mat-form-field style="width: 80% !important;" appearance="outline" class="pr-4" *ngIf="appliedJobsList">
                                <mat-label>Job tagged for screening</mat-label>
                                <mat-select [(value)]="defaultAppliedJobAction" (selectionChange)="selectedopenjobs($event.value)">
                                    <mat-option *ngFor="let _appliedjob of appliedJobsList"
                                                [value]="formatString(_appliedjob.JobId)">
                                        {{_appliedjob.JobTitle}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div *ngIf ="userRole == 'Hiring Manager'">
                            <!-- <button mat-raised-button color="accent" (click)="openModal(ActiveJobs)" 
                             style="text-align: left !important;height:35px;width: 100%;margin-top: 11px;margin-left: 5px;padding-left: 20px;">
                                <span style="display: flex;">
                                  <a style="color: white !important;text-decoration: none; padding-top: 1px;"  >Assign a Job</a>    
                                </span>
                            </button> -->
                            <button style="text-align: left !important;height:45px;width: 100%;margin-top: 11px;margin-left: 5px;padding-left: 20px;"
                                 type="button" (click)="openModal(ActiveJobs)" class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">
                                Assign a Job
                               </button>
                        </div>
                        </div>
                        <div *ngIf = "defaultAppliedJobAction != 'Select'">

                                 <div  style="font-size:14px !important;margin-top: -10px;">
                            <span>Job Applied On: {{appliedjobdate | date:'short'}}</span> &nbsp;&nbsp;&nbsp;
                            <span style="margin-left: 10%;">Job Created on: {{curDate | date:'short'}}</span>
                            
                                 </div><br>

                                <div  style="font-size:15px !important;margin-top: -10px;">
                                    <div [ngStyle]="{ 'display': hideFormField ? 'none' : 'block' }">
                                    <span>Application Status:</span> &nbsp;&nbsp;
                                    <span>
                                        <mat-form-field >
                                            <mat-select [disabled]="userRole != 'Hiring Manager' "   [(ngModel)]="ApplicationStatusIsAdvance" [(value)]="ApplicationStatusIsAdvance" (selectionChange)="changeApplicationStatus($event.value)">
                                                <mat-option value="Select" selected=true>Select</mat-option>
                                                <mat-option value="Advance">Advance</mat-option>
                                                <mat-option value="Reject">Reject</mat-option>
                                                <!-- <mat-option value="In Complete">In Complete</mat-option> -->
                                            </mat-select>
                                          </mat-form-field>
                                    </span>
                                </div>
                                <div [ngStyle]="{ 'display': hideFormField1 ? 'none' : 'block' }">
                                    <span > Application Status: {{jobstatus}}</span>
                                </div>
                                    <div style="width:auto;display: initial;margin-left: 100%;"  *ngIf ="userRole == 'Hiring Manager' " >
                                        <!-- <button mat-raised-button color="accent" (click)="navigatetoEvaluation()"  style="text-align: left !important;height:35px;width: 20%;">
                                            <span style="display: flex;">
                                              <a style="color: white !important;text-decoration: none; padding-top: 1px;"  >Goto Evaluation</a>    
                                            </span>
                                        </button> -->
                                        <!-- <div *ngIf="IsCandidateAssiged" style="margin-top: -53px;margin-right: 750px;"> -->
                                            <div *ngIf="IsCandidateAssiged"> 

                                            <button id="btnScheduleInterview"  *ngIf="!candidateinterview"  [disabled]="ApplicationStatusIsAdvance != 'Advance' "  style="margin-left: 60%;background:#039be5;color: white" color="white" mat-button (click)="openInterviewModal(TechnicalInterviewerUsersDialog)">
                                                Schedule Interview</button>
                                               <!-- <span> -->
                                                <!-- <button  id="btnScheduleInterviewReject"  *ngIf="candidateinterview"  [disabled]="ApplicationStatusIsAdvance != 'Advance' "  style="background: #039be5;color: white;" mat-button (click)="openRejectModal(Rejectmodal)">
                                                   Reject</button> -->
                    
                                                <button  id="btnScheduleNextInterview" *ngIf="candidateinterview"   [disabled]="ApplicationStatusIsAdvance != 'Advance' "  
                                                class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                                                (click)="openInterviewModal(TechnicalInterviewerUsersDialog)">
                                                    Schedule Next Interview</button>&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                                                    (click)="navigatetoEvaluation()" >Goto Evaluation
                                                        <!-- <span style="display: flex;">
                                                          <a style="color: white !important;text-decoration: none; padding-top: 1px;  margin-left: 20%;"  >Goto Evaluation</a>    
                                                        </span> -->
                                                    </button>
                                                <!-- </span> -->
                    
                                        </div>
                                        <br>
                                    </div>
                                <div>
                        </div> 
                        </div>
                        </div>
                        <div style="font-size: 13px !important;">
                    
                            <div *ngFor=" let _candidateinterviewScheduled of AllcandidateinterviewScheduled" style="margin-bottom: 15px;">
                                <div *ngIf="candidateinterview == true" style="display: flex;" fxLayout="row" >
                                  <div fxLayout ="column" fxFlex="25" style="border: 1px solid grey; BACKGROUND: BLUE;COLOR: WHITE;  ">  
                                       <span style=" font-size: 14px; text-align: center;">
                                        {{_candidateinterviewScheduled.from}}

                                        {{_candidateinterviewScheduled.from}}
                                    </span> 
                                    <span style=" font-size: 20px; text-align: center;">
                                        {{_candidateinterviewScheduled.InterviewDate |  date:'EEEE'}}

                                    </span>
                                    <span style=" font-size: 15px;text-align: center;">
                                        {{_candidateinterviewScheduled.InterviewDate |  date:'d MMM , y'}}
                                        </span> 
                                    </div>

                                    <div fxLayout ="column" fxFlex="50" style="border: 1px solid grey; ">   
                                       
                                        <button mat-button [matMenuTriggerFor]="userMenu" class="user-button" style="margin-left: auto;margin-bottom: -20px;">
                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <mat-icon class="s-24" fxShow.xs>more_vert</mat-icon>
                                            </div>
                                        </button>
                                        <mat-menu #userMenu="matMenu" [overlapTrigger]="false">
                                            <button [disabled]="_candidateinterviewScheduled.Status == 'Cancelled'" (click)="ModifyInterviewModal(TechnicalInterviewerUsersDialogModify,_candidateinterviewScheduled.InterviewerId,_candidateinterviewScheduled.JobId,_candidateinterviewScheduled.CandidateId)"  mat-menu-item  style="text-align: left !important;">
                                               <span>
                                                <a style="color: #000;" >Modify</a>
                                              </span>
                                          </button>
                                         <button [disabled]="_candidateinterviewScheduled.Status == 'Cancelled'" (click)="openInterviewCancelModal(_candidateinterviewScheduled.InterviewType)"  mat-menu-item  style="text-align: left !important;">
                                           <span>
                                            <a style="color: #000;"  >Cancel</a>    
                                          </span>
                                      </button>
                                      <button [disabled]="_candidateinterviewScheduled.Status == 'Cancelled'" (click)="openInterviewRejectModal(_candidateinterviewScheduled.InterviewType)"  mat-menu-item  style="text-align: left !important;">
                                        <span>
                                         <a style="color: #000;"  >Reject</a>    
                                       </span>
                                   </button>
                                      </mat-menu>


                                        <span>
                                            <span style="font-weight: bold;">
                                                Interview :
                                            </span> 
                                        <span style=" font-size: 14px;">
                                               {{_candidateinterviewScheduled.InterviewType  }}
                                         </span> 

                                        </span> 


                                         <span>
                                            <span style="font-weight: bold;">
                                                Interview Mode  
                                                :
                                            </span>
                                            <span style="font-size: 14px;" *ngFor="let _GetInterviewMode of GetInterviewMode">
                                                <span  *ngIf="_GetInterviewMode.InterviewId == _candidateinterviewScheduled.InterviewerId" >
                                                {{_GetInterviewMode.Mode  }} ,
                                            </span> 

                                         </span> 
                                        </span>
                                        
                                        <span>
                                            <span style="font-weight: bold;">
                                                Attendees :
                                            </span>
                                                    <span style=" font-size: 15px;"  *ngFor="let _interviewers of candidateinterviewer"> 
                                                        <span  *ngIf="_interviewers.InterviewId == _candidateinterviewScheduled.InterviewerId" >
                                                        {{_interviewers.Interviewer }} ,
                                                    </span> 
                                                </span>  
                                            
                                        </span>
                                        </div>
                                    
                                    <div fxLayout ="column" fxFlex="20" style="border: 1px solid grey ; max-width: 20%; ">   
                                       <div fxLayout ="row" style="border: 1px solid grey; height: 50%;" >
                                        <span>
                                            <span style="font-weight: bold;">
                                                Status :
                                            </span>
                                            <span style=" font-size: 14px;">
                                                {{_candidateinterviewScheduled.Status  }}
                                            </span>
                                           </span> 

                                       </div>
                                       <div fxLayout ="row" style="border: 1px solid grey; height: 50%;">

                                        <span>
                                            <span style="font-weight: bold;">
                                                Score :  
                                            </span>
                                            <span style=" font-size: 14px;">
                                                0 %
                                            </span>
                                           </span> 

                                </div>
                                    </div>
                                    
                        </div> </div> <br>
                         
                   
                </div>
                </div>

                        </div><br>
                        </mat-card>
                </div>
            </mat-tab>
            <mat-tab fxFlex="100">
                <ng-template mat-tab-label >
                   <span  (click) ="MessageTabClicked()" style="color: #257DFD;">Messages&nbsp;({{ CandidateUnReadMsg }})</span>
                  </ng-template>
                 <div style="overflow: scroll;margin-top: 10px;font-size: 15px !important;">
                    <mat-card fxFlex="100">
                    <div style="margin-bottom: 3% !important;">
                         <div class="container">
                            <div class="row">
                              <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
                              </div>
                            </div>
                            <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto" >
                                 <div style="width: 50%">
                                    <ckeditor id="txtEditorField" [editor]="Editor"  [(ngModel)]="InputMessage"  ></ckeditor>
                                </div>
                                <div style="margin-left: 2% ">                            
                                     <button (click)="onSubmit()"  
                                     class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" >
                                        Send </button>
                                     </div>
                             </div>
                          </div>
                    </div>
                    <div *ngFor="let messages of CandidateMessage"> 
                        <span style="color: #257DFD;">{{messages.SentFromFullName}}  </span>    
                          <span style="color: #257DFD;">{{messages.CreatedDate | date:'short' }}  </span> 

                             <div [innerHTML]="messages.Messages"></div>
                        <br>
                    </div>
                    </mat-card>
                </div>
            </mat-tab>
            <mat-tab fxFlex="100">
                <ng-template mat-tab-label>
                    <span style="color: #257DFD; ">Activities&nbsp;({{candidateActivitiesList.length}})</span>
                  </ng-template>
                <div fxLayout="row" fxLayout.lt-md="column" class="col3row">
                    <mat-card fxFlex="100">
                        <div style="overflow: scroll;margin-top: 10px;font-size: 15px !important;">
                            <div style="margin-bottom: 3% !important; padding-left:10px" *ngFor="let activity of candidateActivitiesList ; let i = index">
                                <span>
                                    {{activity.activityDescription}} &nbsp;at&nbsp;{{activity.createdDate | date:'MM/dd/yyyy hh:mm a' }}
                                </span>
                                <hr>
                            </div>
        
                        </div>
                    </mat-card>
                </div>
            </mat-tab>



            <mat-tab fxFlex="100">
                <ng-template mat-tab-label>
                    <span style="color: #257DFD;">Resume &nbsp;({{resumeList.length}})</span>
                  </ng-template>
                  <div fxLayout="row" class="col1row4" fxLayout.lt-md="column"  style="margin-bottom: 10px;">
                   
                    <mat-accordion fxFlex="100">
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <div fxLayout="row" fxFlex="100">
                                    <div fxLayout="row" fxFlex="80" style="font-weight: bold;color: #449DED !important">Resume ({{resumeList.length}})</div>
                                        <div fxLayout="row" fxFlex="20" style="float:right !important;">
                                            <input type='file' #resumeInput (change)="onBlobFileInput($event)" accept="application/msword,text/plain,application/pdf" style="display:none;">
                                            <!-- <a (click)="resumeInput.click()" style="background-color: mediumpurple;color: #FFF;height: 34px;padding-top: 5px;width: 150px;padding-left: 20px; " title="Add Resume"> Add Attachment </a> -->
                                            <a (click)="resumeInput.click()" class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" style="height: 34px;padding-top: 5px;width: 150px;padding-left: 10px; "title="Add Resume"> Attachment </a>
                                        </div>
                                    </div>
    
                            </mat-expansion-panel-header>
                        
                        <div fxFlex="100" fxLayout="column">
                            <div *ngIf="resumeList.length ==0" fxLayout="row" fxFlex="100" style="display: contents !important;">
                                 <span style="font-weight: 700; text-align: center !important;">
                                     No Resume Added
                                 </span>
                            </div>
                            <div *ngIf="resumeList.length !=0" style="overflow-y: scroll;">
                            <div fxLayout="row" *ngFor="let resume of resumeList">
                            <div fxLayout="row" class="mat-caption" style="max-width: 45% !important;align-items: center !important;">
                            <button type="submit" [ngStyle]="{'font-weight':selectCurrentResume === resume.ResumeName ? 'bold' : '100' }"  style="cursor: pointer !important;color: #000 !important;border:none; background: none;" class="text-truncate button btn btn-primary" color="primary" (click)="ResumeClick(resume)" title="{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}">{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}
                            </button></div>
                            <div fxLayout="row" class="mat-caption" style="align-items: center !important;">
                            <button (click)="DownloadResume(resume)" mat-icon-button title="Download Resume">
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">save_alt</i>
                            </button>
                            <i class="material-icons" title="Print Resume" (click)="print(resume)" style="color: #000 !important;cursor: pointer !important;">print</i>
                            <i class="material-icons" title="Share Resume" (click)="openResumeDialogModal(ShareCandidateResumeDialog, '500px', '250px',resume)" style="color: #000 !important;cursor: pointer !important;">share</i>
                            <button title="Delete Resume" id="dvDeleteResume" (click)="deleteblobresumefile(resume.Id, resume)" mat-icon-button>
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">delete_outline</i>
                            </button>
                            </div>
                            </div>
                            </div>
                       
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                </div>

               
                <iframe *ngIf="IsPdf && filepath" style="height: 100vh; width:100%; display: block;"
                ngx-document [src]="filepath"
                   provider="google"></iframe>
            
                <iframe *ngIf="IsDoc && docpath" [src]="docpath"
               viewer="url" style="width:100%;height:100vh;">
               </iframe> 
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span style="color: #257DFD;">Extract Resume &nbsp;({{candidateFolderList.length}})</span>
                  </ng-template>
                  <div fxLayout="row" class="col1row4" fxLayout.lt-md="column"  style="margin-bottom: 10px;">
                   
                    <mat-accordion fxFlex="100">
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <div fxLayout="row" fxFlex="100">
                                    <div fxLayout="row" fxFlex="80" style="font-weight: bold;color: #449DED !important">Resume ({{resumeList.length}})</div>
                                        <div fxLayout="row" fxFlex="20" style="float:right !important;">
                                            <input type='file' #resumeInput (change)="onBlobFileInput($event)" accept="application/msword,text/plain,application/pdf" style="display:none;">
                                            <a (click)="resumeInput.click()" class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" style="height: 34px;padding-top: 5px;width: 150px;padding-left: 10px; "title="Add Resume"> Attachment </a>
                                        </div>
                                    </div>
    
                            </mat-expansion-panel-header>
                        
                        <div fxFlex="100" fxLayout="column">
                            <div *ngIf="resumeList.length ==0" fxLayout="row" fxFlex="100" style="display: contents !important;">
                                 <span style="font-weight: 700; text-align: center !important;">
                                     No Resume Added
                                 </span>
                            </div>
                            <div *ngIf="resumeList.length !=0" style="overflow-y: scroll;">
                            <div fxLayout="row" *ngFor="let resume of resumeList">
                            <div fxLayout="row" class="mat-caption" style="max-width: 45% !important;align-items: center !important;">
                            <button type="submit" [ngStyle]="{'font-weight':selectCurrentResume === resume.ResumeName ? 'bold' : '100' }"  style="cursor: pointer !important;color: #000 !important;border:none; background: none;" class="text-truncate button btn btn-primary" color="primary" (click)="ResumeClick(resume)" title="{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}">{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}
                            </button></div>
                            <div fxLayout="row" class="mat-caption" style="align-items: center !important;">
                            <button (click)="DownloadResume(resume)" mat-icon-button title="Download Resume">
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">save_alt</i>
                            </button>
                            <i class="material-icons" title="Print Resume" (click)="print(resume)" style="color: #000 !important;cursor: pointer !important;">print</i>
                            <i class="material-icons" title="Share Resume" (click)="openResumeDialogModal(ShareCandidateResumeDialog, '500px', '250px',resume)" style="color: #000 !important;cursor: pointer !important;">share</i>
                            <button title="Delete Resume" id="dvDeleteResume" (click)="deleteblobresumefile(resume.Id, resume)" mat-icon-button>
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">delete_outline</i>
                            </button>
                            </div>
                            </div>
                            </div>
                       
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                </div>

               
                <iframe *ngIf="IsPdf && filepath" style="height: 100vh; width:100%; display: block;"
                ngx-document [src]="filepath"
                   provider="google"></iframe>
            
                <!-- <iframe *ngIf="IsDoc && docpath" [src]="docpath"
               viewer="url" style="width:100%;height:100vh;">
               </iframe>
               <form class="file-upload-form">
                <label for="file" class="file-upload-label">
                  <div class="file-upload-design" style="width: 719px;">
                    <svg viewBox="0 0 640 512" height="1em">
                      <path
                        d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"
                      ></path>
                    </svg>
                    <p>Drag and Drop Resume files here</p>
                    <p>or</p>
                    <span class="browse-button">Browse file</span>
                  </div>
                  <input id="file" type="file" />
                </label> -->
              <!-- </form> -->
              
                  
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span style="color: #257DFD;">Extract Resume &nbsp;({{candidateFolderList.length}})</span>
                  </ng-template>
                  <div fxLayout="row" class="col1row4" fxLayout.lt-md="column"  style="margin-bottom: 10px;">
                   
                    <mat-accordion fxFlex="100">
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <div fxLayout="row" fxFlex="100">
                                    <div fxLayout="row" fxFlex="80" style="font-weight: bold;color: #449DED !important">Resume ({{resumeList.length}})</div>
                                        <div fxLayout="row" fxFlex="20" style="float:right !important;">
                                            <input type='file' #resumeInput (change)="onBlobFileInput($event)" accept="application/msword,text/plain,application/pdf" style="display:none;">
                                            <a (click)="resumeInput.click()" class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" style="height: 34px;padding-top: 5px;width: 150px;padding-left: 10px; "title="Add Resume"> Attachment </a>
                                        </div>
                                    </div>
    
                            </mat-expansion-panel-header>
                        
                        <div fxFlex="100" fxLayout="column">
                            <div *ngIf="resumeList.length ==0" fxLayout="row" fxFlex="100" style="display: contents !important;">
                                 <span style="font-weight: 700; text-align: center !important;">
                                     No Resume Added
                                 </span>
                            </div>
                            <div *ngIf="resumeList.length !=0" style="overflow-y: scroll;">
                            <div fxLayout="row" *ngFor="let resume of resumeList">
                            <div fxLayout="row" class="mat-caption" style="max-width: 45% !important;align-items: center !important;">
                            <button type="submit" [ngStyle]="{'font-weight':selectCurrentResume === resume.ResumeName ? 'bold' : '100' }"  style="cursor: pointer !important;color: #000 !important;border:none; background: none;" class="text-truncate button btn btn-primary" color="primary" (click)="ResumeClick(resume)" title="{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}">{{resume.ResumeName}} {{resume.CreatedDate | date:'dd/MM/yyyy'}}
                            </button></div>
                            <div fxLayout="row" class="mat-caption" style="align-items: center !important;">
                            <button (click)="DownloadResume(resume)" mat-icon-button title="Download Resume">
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">save_alt</i>
                            </button>
                            <i class="material-icons" title="Print Resume" (click)="print(resume)" style="color: #000 !important;cursor: pointer !important;">print</i>
                            <i class="material-icons" title="Share Resume" (click)="openResumeDialogModal(ShareCandidateResumeDialog, '500px', '250px',resume)" style="color: #000 !important;cursor: pointer !important;">share</i>
                            <button title="Delete Resume" id="dvDeleteResume" (click)="deleteblobresumefile(resume.Id, resume)" mat-icon-button>
                                <i style="color: #000 !important;vertical-align: baseline !important;" class="material-icons">delete_outline</i>
                            </button>
                            </div>
                            </div>
                            </div>
                       
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                </div>
              <div style="padding: 15px;">
                <div>
                    <div class="dropzone" fileDragDrop (filesChangeEmiter)="onFileChange($event)"  (dragover)="onDragOver($event)"
                    (drop)="onDrop($event)">
                        <div class="text-wrapper">
                            <div class="centered">
                                <input type="file" name="file" id="file" (change)="onFileChange($event)" multiple>
                                <label for="file"><span class="textLink">Select your file</span> or Drop it here!</label>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <h3 mat-subheader>Files</h3>
                <div class="row fileItem" *ngFor="let f of files; let ind = index">
                    <div class="col-sm-12 fileItemIconDiv" (click)="openConfirmDialog(ind);">
                        <i class="fa-6x fileItemIcon"></i>
                    </div>
                    <div class="col-sm-12 fileItemText">
                        <span>{{f.name}}</span>
                    </div>
                </div>
            </div>
                  
            </mat-tab>


<mat-tab>
    <ng-template mat-tab-label>
        <span style="color: #257DFD;">Folders &nbsp;({{candidateFolderList.length}})</span>
      </ng-template>
    <div fxLayout="row" class="col1row5" fxLayout.lt-md="column" style="margin-bottom: 10px;">
        <mat-accordion fxFlex="100">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
       
            <div fxLayout="row" fxFlex="100">
                <div fxLayout="row" fxFlex="80" style="font-weight: bold;color: #449DED !important">Folders ({{candidateFolderList.length}})</div>
                    <div fxLayout="row" fxFlex="20" style="float:right !important;">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">
                        <a (click)="openNewFolderDialogModal(NewFolderDialog, '950px', '550px')"  
                            style="text-align: center; height: 34px;padding-top: 5px;width: 150px;padding-left: 20px;" 
                                title="Add folder">Add Folder</a>
                            </button>
                            </div>
                </div>
        </mat-expansion-panel-header>
        <div fxFlex="100" fxLayout="column">
            <div *ngIf="folderList.length ==0" fxLayout="row" fxFlex="100" style="display: contents !important;">
                 <span style="font-weight: 700; text-align: center !important;">
                     No folder added
                 </span>
            </div>
            <div fxLayout="row" *ngFor="let folder of candidateFolderList">
                <div fxLayout="row" class="mat-caption" style="padding-bottom: 3% !important;  max-width: 70% !important;align-items: center !important;">
                <button type="submit" [ngStyle]="{'font-weight':curFolder === folder.folderName ? 'bold' : '100' }" (click)="getCandidatesbyFoldersId(folder)"  style="cursor: pointer !important;color: #000 !important;border:none; background: none;" class="text-truncate button btn btn-primary" color="primary" title="{{folder.folderName}} ({{folder.candidatesCount}})">{{folder.folderName}} ({{folder.candidatesCount}})
                </button></div>
                
                </div>
           
        </div>
    </mat-expansion-panel>
</mat-accordion>
    </div>
</mat-tab>
            </mat-tab-group>
            </div> 
          </div>
         </div>
    </div>
</div>
</div>
<ng-template #Assessment>
    <div class="modal-content">
        <div class="modal-header">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="60">
                        <span>Assessment</span>
                    </div>
                    <div fxFlex="40">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                            >Submit</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                            mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                    <div fxFlex="3">
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
        <br>
        <div class="modal-body mail-details1">
            <br>
            <div style="text-align: center !important;">
               <p>Assessment is in progress</p>
            </div>
        </div><br>
        <div class="modal-body mail-details1">
            <!-- <br>
            <div>
                <button mat-raised-button color="accent">Submit</button>&nbsp;&nbsp;
                <button mat-raised-button color="warn" mat-dialog-close tabindex="-1">Cancel</button>
            </div> -->
        </div>
    </div>
</ng-template>
<ng-template #Assignment>
    <div class="modal-content">
        <div class="modal-header">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="60">
                        <span>Assignment</span>
                    </div>
                    <div fxFlex="40">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                        >Submit</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                        mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                    <div fxFlex="3">
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
        <br>
        <div class="modal-body mail-details1">
            <br>
            <div style="text-align: center !important;">
               <p>Assignment is in progress</p>
            </div>
        </div><br>
        <div class="modal-body mail-details1">
            <!-- <br>
            <div>
                <button mat-raised-button color="accent">Submit</button>&nbsp;&nbsp;
                <button mat-raised-button color="warn" mat-dialog-close tabindex="-1">Cancel</button>
            </div> -->
        </div>
    </div>
</ng-template>
<ng-template #Evaluation>
    <div class="modal-content">
        <div class="modal-header">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="60">
                        <span>Evaluation</span>
                    </div>
                    <div fxFlex="40">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                        >Submit</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                            mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                    <div fxFlex="3">
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
        <br>
        <div class="modal-body mail-details1">
            <br>
            <div style="text-align: center !important;">
               <p>Evaluation is in progress</p>
            </div>
        </div><br>
        <div class="modal-body mail-details1">
            <!-- <br>
            <div>
                <button mat-raised-button color="accent">Submit</button>&nbsp;&nbsp;
                <button mat-raised-button color="warn" mat-dialog-close tabindex="-1">Cancel</button>
            </div> -->
        </div>
    </div>
</ng-template>
<ng-template #Rejectmodal>
    <div class="modal-content">


      <div class="modal-header">
        <div fxLayout="row" fxLayoutAlign="start center"  fxLayout.gt-xs="column" fxLayout.gt-md="row" >
          <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
            <div fxFlex="90">
            
              <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                (click)="RejectInterview()" color="primary" style="width:auto!important;height:auto!important;cursor: text;">
                <mat-icon>reject</mat-icon>
                <span style="cursor: text;cursor: pointer;">
                    Reject   
                </span>
              </button>

            </div>
            <div fxFlex="2">
              <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                mat-dialog-close tabindex="-1" style="cursor:pointer;"> 
                <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                <!-- <svg class="mat_icon_svg"  style="height: 20px;width: 20px;"
              aria-hidden="true">
               <use matTooltip="close" height="20" width="20" fill="white"
               xlink:href="assets/icons/material-icons/maticons.svg#icon-clear">
              </use>                                        
               </svg> -->
              </button>
            </div>
            <div fxFlex="3">
            </div>
            &nbsp;
          </div>
        </div>
        </div>

           
            <div class="modal-body"> 


              <mat-card style="border: 1px solid #607d8b !important;margin-top: 20px;">
                <mat-card-header style="background-color: #607d8b !important;">
                    <span style="font-weight: 500 !important;color: white;">  </span>
                </mat-card-header>
                <mat-card-content>

                  <h4 class="modal-title pull-left">Candidate Rejection Form for <b>{{candidate.name}}</b> </h4>
                  <div style="margin-top:-4%">
                    <br>
                  <b>Candidate Email:</b>{{candidate.Eemail}} <br/>
                  <!-- <b>Created Date:</b> &nbsp;{{ candidate.createdDate | date :  'dd/MM/yyyy' }}<br/> -->
                  <!-- <b>JobId:</b>{{jobName}}<br/> -->
                   <b>Recruiter Name:</b>&nbsp;{{userName}}<br/>
                    <b>Recruiter Email:</b>{{loggedInfo.email}} <br/>
                   <b>Reason for Rejection</b> <br/>
                          <textarea [innerHTML]="getInnerHTML(RejectInterviewMessageBody)" matInput style="border: 1px solid black ;" id="txtEmailBody" formControlName="EmailBody" maxlength="250" rows="10" cols="50" name="comment" formControlName="RejectReason" [(ngModel)]="reasonforReject" >
                        </textarea>
                          <br>                                                       
                          <span><em>{{250 - reasonforReject?.length}} characters left</em></span> 
                          </div>
                  <div>
                      <br>
                      <!-- <button mat-raised-button color="accent" (click)= "DeleteCandidate('Rejected')"  ><span>Save</span></button>
                      &nbsp;&nbsp; 
                  <button mat-raised-button color="warn" id="btnCancelRejectData" (click)="ClearRejectdata()"><span>Clear</span></button> -->
                </div> 
                </mat-card-content>
              </mat-card>

          </div>
    </div>
</ng-template>
<ng-template #HrUsersDialog>
    <div class="modal-content">
        <div class="modal-header">
        <div fxLayout="row" style="border-bottom: 1px solid#5D5D5D;" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
            <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                <div fxFlex="80">
                    <span><h2><b>Advance</b></h2></span>
                </div>
                <div fxFlex="20">
                    <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                    (click)="SubmitCandidateAssigningTo()">Submit</button>&nbsp;&nbsp;
                    <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                        mat-dialog-close tabindex="-1" (click)="resetAdvance()">Cancel</button>
                </div>
            </div>
        </div>            
        </div>
        <br>

        <div class="modal-body mail-details1">
            <div class="mail-content" fxLayout="column">
                <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <span>Candidate Name:&nbsp;&nbsp;<span style="font-size: 18px !important;color: #449DED !important;">{{commonfieldName}}</span></span>
                </div><br>
                <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <span fxFlex="20"><b>Assigning candidate to</b><br>for screening&nbsp;&nbsp;</span>
                    <mat-form-field fxFlex="45" appearance="outline" class="pr-4" *ngIf="hrRoleUsers">

                         <mat-select [(ngModel)]="Selecthruser"   (ngModelChange)="Selecthruser" name="Selecthruser" 
                        multiple  (selectionChange)="selectedhr($event)">
                            <mat-option *ngFor="let hruser of hrRoleUsers"
                                        [value]="formatString(hruser.Name)">
                                    {{hruser.Name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div fxFlex="100" fxLayout="column" *ngIf="Selecthruser.length > 0">
                    <div fxFlex="100" fxLayout="row">

                        <span class="mat-cell text-truncate" style="max-width: 35% !important;">Message to <span *ngFor="let hr of selectedUserRoles let i=index" class="mat-cell"><span *ngIf="i<selectedUserRoles.length-1">{{hr}}/</span><span *ngIf="i==selectedUserRoles.length-1">{{hr}}</span>&nbsp;</span>:</span>&nbsp;
                        <span class="mat-cell text-truncate" style="max-width: 65% !important;">
                        <span *ngFor="let email of selectedUserEmail let i=index" class="mat-cell">
                        <span style="color: #449DED !important;">{{email}}</span>&nbsp;
                    </span>
                </span>&nbsp;

                     
                    </div><br>

                <div fxFlex="100" fxLayout="column" contenteditable="true" style="border: 1px solid;padding: 1% !important;">
                    <span class="mat-cell text-truncate" style="max-width: 100% !important;">Dear <span *ngFor="let hr of selectedUserRoles let i=index" class="mat-cell"><span *ngIf="i<selectedUserRoles.length-1">{{hr}}/</span><span *ngIf="i==selectedUserRoles.length-1">{{hr}}</span></span>,</span>
                    Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>
                    <div fxFlex="100" fxLayout="row">
                    <div fxFlex="5" fxLayout="column">Link : </div><div fxFlex="95" fxLayout="column" contentEditable="false"><a href="https://atswebapi.azurewebsites.net/candidates/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/candidates/edit-candidate/{{editCandidateID}}</a></div><br>
                    </div>
                    Regards, <br>
                    {{userName}}
                </div>
                </div><br>
                <div fxFlex="100" fxLayout="column">
                    <span class="mat-cell">Message to Candidate:&nbsp;<span style="color: #449DED !important;">{{this.commonfieldEmail}}</span></span><br>
                    <div fxFlex="100" contenteditable="true" style="border: 1px solid;padding: 1% !important;">
                        Dear {{commonfieldName}}, <br>
                        Congrats! You have been short-listed for a position at {{commonfieldCompany}}, our HR will contact you soon<br>
                        Regards, <br>
                        {{userName}}
                    </div>
                </div>

            </div>
        </div>
    </div>
</ng-template>
    <ng-template #InterviewerUsersDialog>
        <div id='divInterview' class="modal-content">
            <div class="modal-header"  >
                <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="40">
                            <span><h2><b>Schedule Interview for </b> &nbsp; <b style="color: #449DED !important;">{{commonfieldName}}</b></h2></span>
                        </div>
                        <div fxFlex="40" style="text-align: end !important;margin-right: 3% !important;">
                            <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                            <span>Scheduled all Interview(s)</span>
                        </div>
                        <div fxFlex="20">
                            <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                                >Submit</button>&nbsp;&nbsp;
                            <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                                mat-dialog-close>Cancel</button>
                        </div>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 1% !important;min-height:15px !important;border-bottom: 1px solid !important;"></div>
                <!-- <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 2% !important;">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="65">
                            <span><b>Candidate Name:</b>&nbsp;&nbsp;<span style="font-size: 18px !important;color: #449DED !important;">{{commonfieldName}}</span></span>
                        </div>
                        
                    </div>
                </div> -->
                <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 2% !important;">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="100">
                            <mat-card fxFlex="100" fxLayout="column" style="background-color: #F4F4F4 !important;"> 
                                <div fxFlex="100" style="margin-bottom: 0% !important;">
                                    <span style="color: #595959 !important;width: 15% !important;"><b>HR Check List</b></span>
                                    <div fxFlex="100" style="margin-top:-13px !important;">
                                        <span><b>HR Rating:
                                            <mat-slider #gridratesize (change)="updateSetting($event)" step="5" min="10" max="100" [value]="gridratesize"></mat-slider>
                                        </b></span> &nbsp;<b class="gridSizeValue">{{gridratesize.value}}%</b>
                                    </div>
                                </div>
                                
                            <div fxLayout="row">
                                <div fxLayout="column" fxFlex="50">
                                    <div fxFlex="40">
                                        <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                        <span>Verified COMMUNICATION details</span>
                                    </div><br>
                                    <div fxFlex="40">
                                        <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                        <span>Satisfied with Behavioural profile</span>
                                    </div><br>
                                    <div fxFlex="40">
                                        <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                        <span>Verified Academic, Experience and Skill match</span>
                                    </div>
                                </div>
                            <div fxLayout="column" fxFlex="50">
                                <div fxFlex="40">
                                    <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                    <span>Salary - Current</span>&nbsp;&nbsp;
                                    <input type="text" id="salarycurrent" #focussalarycurrent autofocus="autofocus" style="color: black !important;width: 60px !important;border: 1px solid !important;text-align: center !important;background-color: white !important;">
                                    &nbsp;&nbsp;Preferred&nbsp;&nbsp;
                                     <input type="text" style="color: black !important;width: 60px !important;border: 1px solid !important;text-align: center !important;background-color: white !important;">
                                </div><br>
                                <div fxFlex="40">
                                    <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                    <span>Minimum grace period to Join</span>&nbsp;&nbsp;<input type="text" style="color: black !important;width: 60px !important;border: 1px solid !important;text-align: center !important;background-color: white !important;">&nbsp;&nbsp;days
                                </div><br>
                                <div fxFlex="40">
                                    <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                    <span>Add More...</span>
                                </div>
                            </div>
                        </div>
                            </mat-card>
                        </div>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 2% !important;">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="100" fxLayout="column" style="border: 1px solid #ECECEC !important">
                            <div fxFlex="100" style="margin-left:15px !important; margin-bottom: 2% !important;background-color: #F4F4F4 !important;">
                                <!-- <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                                <span style="color: #595959 !important;"><b>Candidate Accepted for Technical Interview</b></span> -->
                                <mat-form-field fxFlex="23" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                                    <mat-select [(value)]="defaultinterviewstagechange" (selectionChange)="changeinterviewstage($event.value)">
                                        <mat-option value="Select" selected=true>Select</mat-option>
                                        <mat-option value="Advance">Advance</mat-option>
                                        <mat-option value="Reject">Reject</mat-option>
                                        <mat-option value="In Complete">In Complete</mat-option>
                                    </mat-select>
                                </mat-form-field> 
                                <span style="float:right !important;margin-right: 2% !important;color: #449DED !important;margin-left: 50% !important;margin-top: 25px !important;"><b>+&nbsp;&nbsp;Add Interview</b></span>
                            </div>
                            <div *ngIf="IsInterviewAdvance && Isinterviewchange" fxFlex="96" fxLayout="column" style="max-width: 96% !important;margin-left: 2% !important; border: 1px #E0E0E0 solid !important">
                            <div fxFlex="100" fxLayout="row" style="margin-left: 2% !important;margin-bottom: 2% !important;margin-top:2% !important">
                                <span fxFlex="10" style="color: #595959 !important;margin-top:20px;"><b>Interview 1</b></span>&nbsp;&nbsp;
                                <!-- <span fxFlex="20">Teams Video Call</span> -->
                                <mat-form-field fxFlex="23" formControlName="interviewselectcall" class="interviewselectcall" style="margin-right: 15px !important;margin-left: 15px;">
                                    <mat-label>Select Interview Mode</mat-label>
                                    <mat-select  (selectionChange)="interviewselectcall($event)">
                                        <mat-option value="Phone Call">Phone Call</mat-option>
                                        <mat-option value="Video Call">Video Call</mat-option>
                                        <mat-option value="Personal">Personal</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                &nbsp;&nbsp;
                                <span fxFlex="3" style="margin-top:20px !important;">by</span>&nbsp;&nbsp;
                                <mat-form-field fxFlex="23" class="clsmatinterviewselect" style="margin-right: 15px !important;margin-left: 15px;">
                                    <mat-label>Select Interviewer</mat-label>
                                    <mat-select multiple fxFlex="100" (selectionChange)="selectedinterviewers($event)" formControlName="interviewselectuser">
                                        <mat-option *ngFor="let user of interviewers"
                                                    [value]="user.Name">
                                            {{user.Name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>&nbsp;&nbsp;
                                <mat-form-field >
                                    <mat-label>Date</mat-label>
                                    <input  matInput [matDatepicker]="Interview" placeholder="Select Date" [(ngModel)]="SelectDateInterviewDate"
                                    formControlName="InterviewDate">
                                    <mat-datepicker-toggle matSuffix [for]="Interview"></mat-datepicker-toggle>
                                    <mat-datepicker #Interview></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div fxFlex="100" fxLayout="row" style="margin-left: 2% !important;margin-bottom: 2% !important;">
                                <mat-accordion fxFlex="98">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="mat-row" style="height: auto !important;">
                                            <span class="mat-cell">Message to Candidate:&nbsp;<span style="color: #449DED !important;">{{this.commonfieldEmail}}</span></span><br>
                                        </mat-expansion-panel-header>
                                        <div style="margin-left:10px;">
                                            <textarea [innerHTML]="getInnerHTML(InterviewMessageBody)" cols="100" rows="5"></textarea>
                                        <!-- <span>
                                                Dear {{hrRoleUsers[0].Name}}, <br> &nbsp;&nbsp;&nbsp;
                                                   Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                                                   Link : <a href="https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}</a> <br><br>
                                                   Regards, <br>
                                                   {{hiringmanagers[0].Name}}
                                            </span> -->
                                    </div>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div><br>
                            <div fxFlex="100" fxLayout="row" style="margin-left: 2% !important;margin-bottom: 2% !important;">
                                <mat-accordion fxFlex="98">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="mat-row">
                                            <span class="mat-cell">Message to Interviewer:&nbsp;<span style="color: #449DED !important;">{{userEmail}}</span></span>
                                        </mat-expansion-panel-header>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                        </div>
                        <div *ngIf="!IsInterviewAdvance && Isinterviewchange" fxFlex="96" fxLayout="column" style="max-width: 96% !important;margin-left: 2% !important; border: 1px #E0E0E0 solid !important">
                            <b>Reason for Rejection</b> <br/>
                            <textarea matInput style="border: 1px solid black ;" id="txtEmailBody" formControlName="EmailBody" maxlength="250" rows="10" cols="50" name="comment" formControlName="RejectReason" [(ngModel)]="reasonforReject" >
                                    </textarea>
                            <br>                                                       
                            <span><em>{{250 - reasonforReject?.length}} characters left</em></span> 
                        </div>
                            <br>
                            
                        </div>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="100" fxLayout="column" style="background-color: #F4F4F4 !important;border: 1px solid #ECECEC !important">
                            <div fxFlex="100" fxLayout="row">
                                <mat-accordion fxFlex="98">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="mat-row" style="height: auto !important;">
                                             <span fxFlex="10" style="align-self: center !important;color: #5D5D5D !important;font-size: 14px !important;"><b>Assessment:</b></span>&nbsp;&nbsp;
                                        </mat-expansion-panel-header>
                                        <div>
                                            <mat-form-field fxFlex="23"  class="clsmatassessmentcall" style="margin-right: 15px !important;margin-left: 15px;">
                                                <mat-label>Select</mat-label>
                                                <mat-select (selectionChange)="assessmentcallddl($event)">
                                                    
                                                    <mat-option value="ATS">ATS</mat-option>
                                                    <mat-option value="Phone Call">Phone Call</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">by</span>&nbsp;&nbsp;
                                            <!-- <span fxFlex="12" style="color: #449DED !important;align-self: center !important;">{{userName}}</span> -->
                                            <mat-form-field fxFlex="23"  class="clsmatassessmentrole" style="margin-right: 15px !important;margin-left: 15px;">
                                                <mat-label>Select</mat-label>
                                                <mat-select (selectionChange)="assessmentroleddl($event)">
                                                    <mat-option value="HR">HR</mat-option>
                                                    <mat-option value="Hiring Manager">Hiring Manager</mat-option>
                                                    <mat-option value="Interviewer">Interviewer</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">on</span>&nbsp;&nbsp;
                                            <mat-form-field fxFlex="22">
                                                <mat-label>Date</mat-label>
                                                <input  matInput [matDatepicker]="Interview1" placeholder="Select Date">
                                                <mat-datepicker-toggle matSuffix [for]="Interview1"></mat-datepicker-toggle>
                                                <mat-datepicker #Interview1></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                       <!--   <div style="margin-left:10px;">
                                            <textarea [innerHTML]="getInnerHTML(InterviewMessageBody)" cols="100" rows="5"></textarea>
                                           <textarea matInput placeholder="InterviewMessageBody">{{InterviewMessageBody}}</textarea> 
                                         <span>
                                                Dear {{hrRoleUsers[0].Name}}, <br> &nbsp;&nbsp;&nbsp;
                                                   Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                                                   Link : <a href="https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}</a> <br><br>
                                                   Regards, <br>
                                                   {{hiringmanagers[0].Name}}
                                            </span> 
                                        </div> -->
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <div fxFlex="100" fxLayout="row" style="background-color: #D6D6D6 !important;">
                                <mat-accordion fxFlex="98">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="mat-row" style="height: auto !important;">
                                            
					 <span fxFlex="10" style="align-self: center !important;color: #5D5D5D !important;font-size: 14px !important;"><b>Assignment:</b></span>&nbsp;&nbsp;
                                <!-- <span fxFlex="12" style="color: #449DED !important;align-self: center !important;"><u>ATS Application</u></span> -->
                                
                                        </mat-expansion-panel-header>
                                        <div>
                                            <mat-form-field fxFlex="23" class="clsmatassignmentmentcall" style="margin-right: 15px !important;margin-left: 15px;">
                                                <mat-label>Select</mat-label>
                                                <mat-select  (selectionChange)="assignmentcallddl($event)">
                                                    <mat-option value="ATS">ATS</mat-option>
                                                    <mat-option value="Phone Call">Phone Call</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">by</span>&nbsp;&nbsp;
                                            <!-- <span fxFlex="12" style="color: #449DED !important;align-self: center !important;">{{userName}}</span> -->
                                            <mat-form-field fxFlex="23"  class="clsmatassignmentmentrole" style="margin-right: 15px !important;margin-left: 15px;">
                                                <mat-label>Select</mat-label>
                                                <mat-select (selectionChange)="assignmentroleddl($event)">
                                                    <mat-option value="HR">HR</mat-option>
                                                    <mat-option value="Hiring Manager">Hiring Manager</mat-option>
                                                    <mat-option value="Interviewer">Interviewer</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">on</span>&nbsp;&nbsp;
                                            <mat-form-field fxFlex="22">
                                                <mat-label>Date</mat-label>
                                                <input  matInput [matDatepicker]="Interview2" placeholder="Select Date">
                                                <mat-datepicker-toggle matSuffix [for]="Interview2"></mat-datepicker-toggle>
                                                <mat-datepicker #Interview2></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                      <!--   <div style="margin-left:10px;">
                                            <textarea [innerHTML]="getInnerHTML(InterviewMessageBody)" cols="100" rows="5"></textarea>
                                            <span>
                                                Dear {{hrRoleUsers[0].Name}}, <br> &nbsp;&nbsp;&nbsp;
                                                   Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                                                   Link : <a href="https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}</a> <br><br>
                                                   Regards, <br>
                                                   {{hiringmanagers[0].Name}}
                                            </span> 
                                        </div>-->
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <div fxFlex="100" fxLayout="row">
                                <mat-accordion fxFlex="98">
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="mat-row" style="height: auto !important;">
                                            <span fxFlex="10" style="align-self: center !important;color: #5D5D5D !important;font-size: 14px !important;"><b>Evaluation:</b></span>&nbsp;&nbsp;
                                        </mat-expansion-panel-header>
                                        <div>
                                            <mat-form-field fxFlex="23"  class="clsmatevaluationcall" style="margin-right: 15px !important;margin-left: 15px;">
                                               <mat-label>Select</mat-label>
                                                <mat-select  (selectionChange)="evaluationcallddl($event)">
                                                    <mat-option value="ATS">ATS</mat-option>
                                                    <mat-option value="Phone Call">Phone Call</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">by</span>&nbsp;&nbsp;
                                            <!-- <span fxFlex="12" style="color: #449DED !important;align-self: center !important;">{{userName}}</span> -->
                                            <mat-form-field fxFlex="23" class="clsmatevaluationrole" style="margin-right: 15px !important;margin-left: 15px;">
                                                <mat-label>Select</mat-label>
                                                <mat-select  (selectionChange)="evaluationroleddl($event)">
                                                    <mat-option value="HR">HR</mat-option>
                                                    <mat-option value="Hiring Manager">Hiring Manager</mat-option>
                                                    <mat-option value="Interviewer">Interviewer</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            &nbsp;&nbsp;
                                            <span fxFlex="3" style="align-self: center !important;">on</span>&nbsp;&nbsp;
                                            <mat-form-field fxFlex="22">
                                                <mat-label>Date</mat-label>
                                                <input  matInput [matDatepicker]="Interview3" placeholder="Select Date">
                                                <mat-datepicker-toggle matSuffix [for]="Interview3"></mat-datepicker-toggle>
                                                <mat-datepicker #Interview3></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div style="margin-left:10px;">
                                            <textarea [innerHTML]="getInnerHTML(InterviewMessageBody)" cols="100" rows="5"></textarea>
                                            <!-- <span>
                                                Dear {{hrRoleUsers[0].Name}}, <br> &nbsp;&nbsp;&nbsp;
                                                   Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                                                   Link : <a href="https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/apps/candidate/edit-candidate/{{editCandidateID}}</a> <br><br>
                                                   Regards, <br>
                                                   {{hiringmanagers[0].Name}}
                                            </span> -->
                                        </div>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="modal-body mail-details1">
                <br>
                <div style="text-align: center !important;">
                    <button mat-raised-button color="primary"  id="btnCancelDialog" mat-dialog-close>
                        <span>Close</span></button>
                </div>
            </div> -->
        </div>
        <button color="primary" (click)="topFunction()"  id="btnCancelDialog" style="cursor: pointer;border-radius: 22px !important;">
            <span class="material-icons" style="color: #000 !important;font-size: 40px !important;">
                arrow_upward
                </span>
        </button>
    </ng-template>
    <ng-template #ShareCandidateDialog>
        <div class="modal-content">
            <div class="modal-header">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="90">
                            <span>Select Recruiter(s) to share candidate details</span>
                        </div>
                        <div fxFlex="2">
                            <button class="bg-red-600 rounded-md p-1 inline-flex items-center justify-center text-red-400 hover:text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                                    mat-dialog-close tabindex="-1"
                                    style="cursor:pointer;">
                                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                      </svg>
                                <!-- <svg class="mat_icon_svg" style="height: 20px;width: 20px;" aria-hidden="true">
                                    <use matTooltip="close" height="20" width="20" fill="white"
                                         xlink:href="assets/icons/material-icons/maticons.svg#icon-clear"></use>
                                </svg> -->
                            </button>
                        </div>
                        <div fxFlex="3">
                        </div>&nbsp;
                    </div>
                </div>
            </div>
            <br>
            <div class="modal-body mail-details1">
                <div class="mail-content">
                    <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                        <mat-form-field appearance="outline" fxFlex="100" class="pr-4" *ngIf="recruitersList">
                            <mat-label>Recruiter(s) *</mat-label>
                            <mat-select multiple (selectionChange)="selectedrecruiters($event)">
                                <mat-option *ngFor="let _recruiter of recruitersList"
                                            [value]="formatString(_recruiter.Id)">
                                    {{_recruiter.FirstName}} {{_recruiter.LastName}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <br>
                <div>
                    <button [disabled]="selectedRecruiters.length == 0" 
                    class="mr-2 bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" color="primary"
                            (click)="shareCandidate()"><span>Share</span></button>&nbsp;&nbsp;
                    <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                        id="btnCancelDialog1" mat-dialog-close>
                        <span>Close</span></button>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #ShareCandidateResumeDialog>
        <div class="modal-content">
            <div class="modal-header">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="90">
                            <span>Select Recruiter(s) to share candidate resume</span>
                        </div>
                        <div fxFlex="2">
                            <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                                mat-dialog-close tabindex="-1"
                                    style="cursor:pointer;">
                                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                      </svg>
                                <!-- <svg class="mat_icon_svg" style="height: 20px;width: 20px;" aria-hidden="true">
                                    <use matTooltip="close" height="20" width="20" fill="white"
                                         xlink:href="assets/icons/material-icons/maticons.svg#icon-clear"></use>
                                </svg> -->
                            </button>
                        </div>
                        <div fxFlex="3">
                        </div>&nbsp;
                    </div>
                </div>
            </div>
            <br>
            <div class="modal-body mail-details1">
                <div class="mail-content">
                    <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                        <mat-form-field appearance="outline" fxFlex="100" class="pr-4" *ngIf="recruitersList">
                            <mat-label>Recruiter(s) *</mat-label>
                            <mat-select multiple (selectionChange)="selectedrecruiters($event)">
                                <mat-option *ngFor="let _recruiter of recruitersList"
                                            [value]="formatString(_recruiter.Id)">
                                    {{_recruiter.FirstName}} {{_recruiter.LastName}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <br>
                <div>
                    <button [disabled]="selectedRecruiters.length == 0" 
                    class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                            (click)="shareCandidateresume()"><span>Share</span></button>&nbsp;&nbsp;
                    <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                        id="btnCancelDialog1" mat-dialog-close>
                        <span>Close</span></button>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template #EditCandidateDialog>
        <div class="modal-content">
        <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
            <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                <div fxFlex="83">
                    <span style="font-weight: bolder;font-size: large;">Edit candidate</span>
                </div>
                <div fxFlex="17" style="float: right !important;">
                    <button  [disabled]="this.editCandidateDisable"
                        class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                            (click)="submitForm1()"><span>Save</span></button>&nbsp;&nbsp;
                         <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                         id="btnCancelDialog1" mat-dialog-close>
                        Close</button>
                </div>
                <div fxFlex="3">
                </div>&nbsp;
            </div>
        </div>
        <br>
        <div class="modal-body mail-details1">
        <form class="w-full mr-10" fxLayout="column" [formGroup]="firstFormGroup">
            <span *ngIf="this.editCandidateDisable" style="text-align-last: right !important; margin-right:2% !important; margin-bottom: 5px !important; font-size: 15px !important; color:red !important;">* Please enter all required fields</span>
            <div class="w-full mr-10">
                <div >
                    <div >
                        <div class="flex flex-wrap mb-5">
                            <div class="card-avatar" style="text-align-last: left !important;display: flex; align-items: center; justify-content: center;">
                                <div style="text-align: center;">       
                                <img *ngIf="!candidateprofileimageURL" class="img-circle" style="margin-bottom: 5px; height: 80px; vertical-align: top; border: none; border-radius: 50%; width: 80px;"
                                    src="../../../../assets/images/avatars/profile.jpg" />
                                <img *ngIf="candidateprofileimageURL" class="img-circle" [src]="candidateprofileimageURL" style="margin-bottom: 5px; height: 80px; vertical-align: top; border: none; border-radius: 50%; width: 80px;"
                                     />
                                </div>
                                <div style="margin-left: 10px;">
                                <input #profileInput type="file" id="fileInput" (change)="onFileInput($event)"
                                    style="display:none;" />
                                    <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded"
                                    mat-raised-button color="primary" (click)="profileInput.click()">Add Profile Image</button>
                                </div>
                                <div *ngIf="candidateprofileimageURL">
                                    <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                                        mat-raised-button color="primary" (click)="profileInput.click()">Change</button>
                                    <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                                        mat-raised-button color="warn" (click)="removeProfileImage()">Remove</button>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                   
                   
                            
                                <div class="flex flex-wrap mb-4" >
                                    <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                <mat-form-field appearance="outline" autofocus="autofocus">
                                    <mat-label>Candidate Name (First Name & Last Name)</mat-label>
                                    <input matInput #candidatename formControlName="candidateName" tabindex="1" autofocus="autofocus" required type="text" minlength="5"
                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                           pattern="[a-zA-Z]+([\s][a-zA-Z]+)*" maxlength="50">
                                    <mat-error *ngIf="firstFormGroup.get('candidateName').hasError('pattern')">Please enter valid name.</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('candidateName').hasError('required')">Candidate Name required.</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('candidateName').hasError('minlength')">Candidate Name is too short.</mat-error>
                                </mat-form-field>
                                    </div>
                                <div class="flex-1 h-12 mb-5" style="margin-left: 10px;">
                                <mat-form-field appearance="outline" >
                                    <mat-label>Designation</mat-label>
                                    <input matInput formControlName="designation" tabindex="2" required pattern="^[a-zA-Z ]*$"
                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                           maxlength="50" minlength="5">
                                    <mat-error *ngIf="firstFormGroup.get('designation').hasError('required')">Designation is required</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('designation').hasError('minlength')">Designation is too short</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('designation').hasError('pattern')">Only characters are allowed</mat-error>
                                   
                                </mat-form-field>
                                </div>
                                <div class="flex-1 h-12 mb-5" style="margin-left: 10px;" >
                                <mat-form-field  appearance="outline">
                                    <mat-label>Current Employer</mat-label>
                                    <input matInput #currentemployer formControlName="currentEmployer" tabindex="3" required type="text"
                                           oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                           pattern="^[a-zA-Z ]*$" minlength="5" maxlength="50">
                                    <mat-error *ngIf="firstFormGroup.get('currentEmployer').hasError('pattern')">CurrentEmployer Allows Alphabits only.</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('currentEmployer').hasError('required')">CurrentEmployer required.</mat-error>
                                    <mat-error *ngIf="firstFormGroup.get('currentEmployer').hasError('minlength')">CurrentEmployer is too short.</mat-error>
                                </mat-form-field>
                                    </div>
                                    <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                        <mat-form-field appearance="outline" >
                                            <mat-label>Email</mat-label>
                                            <input matInput #email formControlName="email" tabindex="5" required minlength="10"
                                                   maxlength="50" pattern="\w+\D*\w+@\w+[-]?\w+?\.((\w{2,3})|(\w{2}\.\w{2}))"
                                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
                                            <mat-error *ngIf="firstFormGroup.get('email').hasError('pattern')">Enter Valid Email.</mat-error>
                                            <mat-error *ngIf="firstFormGroup.get('email').hasError('required')">Email is required.</mat-error>
                                            <mat-error *ngIf="firstFormGroup.get('email').hasError('minlength')">Email is too short.</mat-error>
                                        </mat-form-field>
                                    </div>
                                    
                                </div>
                            
                            
                                <div class="flex flex-wrap mb-4" >
                                   
                                    <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                        <mat-form-field *ngIf="IsEdit" appearance="outline" >
                                            <mat-label>Relocate</mat-label>
                                            <mat-select *ngIf="IsRelocate" formControlName="relocate" tabindex="6" (selectionChange)="selectedrelocate($event)" required>
                                                <mat-option [value]="true">Yes</mat-option>
                                                <mat-option [value]="false">No</mat-option>
                                            </mat-select>
                                            <mat-select *ngIf="!IsRelocate" formControlName="relocate" tabindex="6" (selectionChange)="selectedrelocate($event)" required>
                                                <mat-option [value]="false">No</mat-option>
                                                <mat-option [value]="true">Yes</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field *ngIf="!IsEdit" appearance="outline" >
                                            <mat-label>Relocate</mat-label>
                                            <mat-select formControlName="relocate" tabindex="6" (selectionChange)="selectedrelocate($event)" required>
                                                <mat-option *ngFor="let relocate of searchFills.relocateState" [value]="relocate.value">
                                                    {{relocate.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        </div>
                                        <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                            <mat-form-field appearance="outline" >
                                                <mat-label>Date of Birth(MM/DD/YYYY)</mat-label>
                                                <input matInput [matDatepicker]="dob" formControlName="dob" name="dob" tabindex="7" (dateInput)="addEvent('input', $event)"
                                                       [max]="today">
                                                <mat-datepicker-toggle matSuffix [for]="dob"></mat-datepicker-toggle>
                                                <mat-datepicker #dob color="primary"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                            <mat-form-field appearance="outline" >
                                                <mat-label>Mobile Number</mat-label>
                                                <input matInput #mobileno formControlName="mobileno" tabindex="8" required type="number"
                                                       oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                                       maxlength="10" pattern="[789]\d{9}$">
                                                <mat-error *ngIf="firstFormGroup.get('mobileno').hasError('pattern')">Enter Valid MobileNo.</mat-error>
                                                <mat-error *ngIf="firstFormGroup.get('mobileno').hasError('required')">MobleNo. is required</mat-error>
                                               
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                            <mat-form-field appearance="outline"  >
                                                <mat-label>Experience</mat-label>
                                                <mat-select formControlName="experience" tabindex="10" (selectionChange)="selectedAreas($event)" required>
                                                    <mat-option *ngFor="let experience of searchFills.Experience" [value]="experience.value">
                                                        {{experience.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field></div>
                                </div>
                            
                            
                                <div class="flex flex-wrap mb-3" >
                                    <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                        <mat-form-field fxFlex="100" appearance="outline" >
                                            <!-- <mat-chip-list #taglist> -->
                                                <!-- <mat-chip selected color="primary"
                                                          *ngFor="let Tag of Tags"
                                                          [selectable]="selectable"
                                                          [removable]="removable"
                                                          (removed)="remove(Tag)">
                                                    {{Tag}}
                                                    <mat-icon matChipRemove *ngIf="removable">cancel </mat-icon>
                                                </mat-chip> -->
                                                <mat-label>Job Skill(s)</mat-label>
                                                <mat-select formControlName="skills" multiple required 
                                                            (selectionChange)="selectedValue($event)">
                                                    <mat-option *ngFor="let Skill of candidateskills" [value]="Skill.Id">
                                                        {{Skill.Name}}
                                                    </mat-option>
                                                </mat-select>
                                            <!-- </mat-chip-list> -->
                                        </mat-form-field></div>
                                   
                                    <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                        <mat-form-field fxFlex="100"  appearance="outline">
                                            <mat-label>Desired Salary</mat-label>
                                            <input matInput #desiredsalary formControlName="desiredsalary" tabindex="11" required
                                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                                   minlength="2" maxlength="7" pattern="[1-9][0-9]*">
                                            <mat-error *ngIf="firstFormGroup.get('desiredsalary').hasError('required')">desiredsalary is required</mat-error>
                                            <mat-error *ngIf="firstFormGroup.get('desiredsalary').hasError('minlength')">desiredsalary is too short</mat-error>
                                            <mat-error *ngIf="firstFormGroup.get('desiredsalary').hasError('pattern')">Please enter valid salary</mat-error>
                                        </mat-form-field></div>
                                        <div class="flex-1 h-12 mb-5" style=" margin-left: 10px;">
                                            <mat-form-field appearance="outline" fxFlex="100" class="pr-4" style="margin-right: 5px !important;">
                                                <mat-label>Location</mat-label>
                                                <input matInput formControlName="candidate_location" tabindex="4" required #search (keydown)="searchPlaces(search.value)" [matAutocomplete]="auto">
                                                <br>
                                                <mat-autocomplete #auto="matAutocomplete">
                                                    <mat-option *ngFor="let option of location_options"
                                                                [value]="locatinFormValue" (click)="selectedLocation(option)">
                                                        {{option['display_name']}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                                <mat-icon matSuffix class="disabled-text">location_on</mat-icon>
                                            </mat-form-field>
                                            </div>
                                </div>

                            
                     
                </div>
               </div>
          
        <span>
                <h2>
                    <b style="
        color: gray;
    ">
                        Education
                        <button (click)="AddEducationItem()" style="color: blue  !important;background: white;border: none;font-size: 18px !important;font-weight: 500!important;margin-left: 0.5%;cursor: pointer;">+ Add </button>
                    </b>
                </h2>
            </span>


            <div style="overflow-x: scroll;">
                <form class="w-full" [formGroup]="Educationform" style="display: flex; white-space: nowrap;">
                  <div formArrayName="items">
                    <div *ngFor="let item of Educationform.controls.items['controls']; let i=index" [formGroupName]="i" style="display: block;margin-bottom: -20px;">
                      <div style="display: flex;">
                        <div class="flex-1">
                          <mat-form-field  appearance="outline">
                            <mat-label>From Year</mat-label>
                            <input matInput formControlName="item_From_Year" placeholder="From Year" tabindex="10"
                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                   required minlength="4" maxlength="4" (input)="ValidateYear($event)" pattern="^[0-9]\d*$">
                          </mat-form-field>
                        </div>
                        <div class="flex-1">
                          <mat-form-field  appearance="outline">
                            <mat-label>To Year</mat-label>
                            <input matInput formControlName="item_To_Year" placeholder="To Year" tabindex="10"
                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                   required minlength="4" maxlength="4" (input)="ValidateYear($event)" pattern="^[0-9]\d*$">
                          </mat-form-field>
                        </div>
                        <div class="flex-1">
                          <mat-form-field appearance="outline">
                            <mat-label>Qualification</mat-label>
                            <input matInput formControlName="Item_Qualification" placeholder="Qualification" tabindex="10"
                                   minlength="4" maxlength="50" required pattern="^[a-zA-Z.() ]*$">
                          </mat-form-field>
                        </div>
                        <div class="flex-1">
                          <mat-form-field appearance="outline">
                            <mat-label>University and Place</mat-label>
                            <input matInput placeholder="University and Place" formControlName="item_College_University" tabindex="11"
                                   minlength="4" maxlength="50" required pattern="^[a-zA-Z.() ]*$">
                          </mat-form-field>
                        </div>
                        <div class="flex-1">
                          <mat-form-field appearance="outline">
                            <mat-label>Score %</mat-label>
                            <input matInput placeholder="Score %" formControlName="item_Score" tabindex="12"
                                   required minlength="2" maxlength="3" pattern="^[0-9]\d*$">
                          </mat-form-field>
                          <button matSuffix mat-icon-button aria-label="Clear" (click)="RemoveEducationItem(i)">
                            <mat-icon style="font-size: 25px !important; color: red !important;">close</mat-icon>
                          </button>
                        </div>
                      </div>
                      <br>
                    </div>
                  </div>
                </form>
              </div>
              
              
            <br>


            <span>
                <h2>
                    <b style="
            color: gray;
        ">
                        Work Experience
                        <button (click)="ExperianceformAddItem()" style="color: blue  !important;background: white;border: none;font-size: 18px !important;font-weight: 500!important;margin-left: 1%;cursor: pointer;">+ Add </button>
                    </b>
                </h2>
            </span>
            <div style="overflow-x: scroll;">

            <form class="w-full"  [formGroup]="Experianceform" style="display: flex; white-space: nowrap;">
                <div formArrayName="items">
                    <div *ngFor="let item of Experianceform.controls.items['controls']; let i=index " [formGroupName]="i" style="display: block;margin-bottom: -20px;">

                            
                               
                                    <div style="display: flex;" >
                                        <div class="flex-1 "  style=" margin-left: 10px;" >
                                            <mat-form-field appearance="outline">
                                                <mat-label>Year of Joining</mat-label>
                                                <input matInput formControlName="Joinned" placeholder="Joinned" minlength="4"
                                                       pattern="^[0-9]\d*$" maxlength="4" (input)="ValidateYear($event)">
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1"  style=" margin-left: 10px;" >
                                            <mat-form-field appearance="outline">
                                                <mat-label>Year of relieving</mat-label>
                                                <input matInput formControlName="Relived" placeholder="Relived" minlength="4"
                                                       pattern="^[0-9]\d*$" maxlength="4" (input)="ValidateYear($event)">
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1 "  style=" margin-left: 10px;" >
                                            <mat-form-field appearance="outline">
                                                <mat-label>Company Name</mat-label>
                                                <input matInput formControlName="CompanyName" placeholder="Company Name "
                                                       minlength="4" maxlength="50" required pattern="^[a-zA-Z.() ]*$">
                                            </mat-form-field>
                                        </div>
                                       
                                        <div class="flex-1 "  style=" margin-left: 10px;" >
                                            <mat-form-field appearance="outline" >
                                                <mat-label>Place</mat-label>
                                                <input matInput formControlName="Place" placeholder="Place"
                                                       minlength="4" maxlength="50" required pattern="^[a-zA-Z.() ]*$">
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1 "  style=" margin-left: 10px;" >
                                            <mat-form-field  appearance="outline">
                                                <mat-label>Designation</mat-label>
                                                <input matInput formControlName="Designation" placeholder="Designation"
                                                       minlength="4" maxlength="50" required pattern="^[a-zA-Z. ]*$">
                                            </mat-form-field>
                                        </div>
                                        <div class="flex-1 "  style=" margin-left: 10px;" >
                                            <button matSuffix
                                            mat-icon-button aria-label="Clear"
                                            (click)="RemoveExperianceItem(i)">
                                        <mat-icon style="font-size: 25px !important;color: red !important;">close</mat-icon>
                                    </button>
                                        </div>
                                    </div> <br>
                    </div>


                </div>
                
            </form>
            </div>
            <br>

            <span>
                <h2>
                    <b style=" color: gray; ">
                        Awards and  Certificates
                        <button (click)="AwardsformAddItem()" style="color: blue  !important;background: white;border: none;font-size: 18px !important;font-weight: 500!important;margin-left: 1%;cursor: pointer;">+ Add </button>
                    </b>
                </h2>
            </span>

            <div style="overflow-x: scroll;">
            <form class="w-full" [formGroup]="Awardsform" style="display: flex; white-space: nowrap;">
                <div formArrayName="items">
                    <div *ngFor="let item of Awardsform.controls.items['controls']; let i=index " [formGroupName]="i" style="display: block;margin-bottom: 0px;">
                       
                        
                            
                                <div  style="display: flex;" >
                                    <div class="flex-1"  style=" margin-left: 10px;" >
                                        <mat-form-field appearance="outline" >
                                            <mat-label>Year </mat-label>
                                            <input matInput formControlName="AwardYear" placeholder="Awarded Year  "
                                                   minlength="4" maxlength="4" required pattern="^[0-9]\d*$" (input)="ValidateYear($event)">
                                        </mat-form-field>
                                    </div>
                                    <div class="flex-1 h-12 mb-2"  style=" margin-left: 10px;">
                                        <mat-form-field appearance="outline">
                                            <mat-label>Awards or Certificate By </mat-label>
                                            <input matInput formControlName="AwardsAndCertificate" placeholder="Awards or Certificate By "
                                                   required minlength="3" maxlength="50" pattern="^[a-zA-Z. ]*$">
                                        </mat-form-field>
                                    </div>
                                    <div class="flex-1 h-12 mb-2"  style=" margin-left: 10px;">
                                        <mat-form-field appearance="outline" >
                                            <mat-label>Awards or Certificate Details </mat-label>
                                            <input matInput formControlName="AwardsAndCertificateDetails" placeholder="Awards or Certificate Details "
                                                   required minlength="3" maxlength="50" pattern="^[a-zA-Z. ]*$">
                                        </mat-form-field>
                                     </div>
                                        <div class="flex-1 h-12 mb-2"  style=" margin-left: 10px;">
                                            <button matSuffix
                                            mat-icon-button aria-label="Clear"
                                            (click)="RemoveAwardsformItem(i)">
                                        <mat-icon style="font-size: 25px !important;color: red !important;">close</mat-icon>
                                    </button>
                                </div>
                                        </div>
                                   
                                      
                               
                    </div>

                    <br>
                </div>
            </form>
            </div>
            <br> 

            
                
                    <div class="flex flex-wrap mb-3" >
                        <div class="flex-1 h-12 mb-5"  style=" margin-left: 10px;width: 60%;" >
                            <mat-form-field appearance="outline" fxFlex="100" class="pr-4" style="margin-right: 5px !important;">
                                <mat-label>Facebook</mat-label>
                                <input matInput formControlName="facebook" tabindex="12">
                                
                            </mat-form-field>
                        </div>
                        <div class="flex-1 h-12 mb-5"  style=" margin-left: 10px;flex-basis: 60%;">
                            <mat-form-field appearance="outline" fxFlex="100" class="pr-4" style="margin-right: 5px !important;">
                                <mat-label>Linkedin</mat-label>
                                <input matInput formControlName="linkedin" tabindex="13">
                               
                            </mat-form-field>
                        </div>
                        <div class="flex-1 h-12 mb-5"  style=" margin-left: 10px;flex-basis: 60%;">
                            <mat-form-field appearance="outline" fxFlex="100" class="pr-4" style="margin-right: 5px !important;">
                                <mat-label>Twitter</mat-label>
                                <input matInput formControlName="twitter" tabindex="14">
                                
                            </mat-form-field>
                         </div>
                           
                            </div>
                    
                        
                            <div class="flex flex-wrap mb-2" >
                                <div class="flex-1 h-12 mb-5">
                                    <mat-form-field fxFlex="100" appearance="outline" >
                                        <mat-label>Github</mat-label>
                                        <input matInput formControlName="github" tabindex="15">
                                        </mat-form-field>
                                </div>
                                
                                <div class="flex-1 h-12 mb-5">
                                    <mat-form-field fxFlex="100" appearance="outline">
                                        <mat-label>Stackoverflow</mat-label>
                                        <input matInput formControlName="stackoverflow" tabindex="16">
                                        
                                    </mat-form-field>
                                 </div>
                                  </div>
                                
                                  
                            
            <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="100" class="pr-4">
                    <mat-label>Overview</mat-label>
                    <textarea matInput rows="5" cols="40" placeholder="Overview" tabindex="17" #overview formControlName="overview" required></textarea>
                </mat-form-field>
            </div> 
        </form>
        <div>
            <button [disabled]="this.firstFormGroup.invalid || Educationform.invalid || Experianceform.invalid || Awardsform.invalid " 
            class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                    (click)="submitForm1()">
               <span> Save </span>
            </button>&nbsp;&nbsp;
            <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
            id="btnCancelDialog1" mat-dialog-close>
                Close
            </button>
        </div>
    </div>
</div>
</ng-template>
<ng-template #NewFolderDialog>
        <div class="modal-content">
            <div class="modal-header">
            <div fxLayout="row" style="border-bottom: 1px solid#5D5D5D;" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="80" fxLayout="row">
                        <div fxFlex="15" fxLayout="row">
                        <span style="color: #474747;"><h2><b>New Folder</b></h2></span></div>
                    </div>
                    <div fxFlex="20">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                        mat-dialog-close [disabled]="this.newFolderFormGroup.invalid" (click)="createNewFolder()">Save</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                        mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                </div>
            </div>  
            </div>
            <br>
            <div class="modal-body mail-details1" fxLayout="column">
                <form fxLayout="column" [formGroup]="newFolderFormGroup">
                <div fxLayout="column">
                    <div style="margin-bottom:10px" fxLayout="column">
                        <mat-radio-group (change)="chkfolderStatus($event)">
                            <mat-radio-button style="margin-bottom: 5px; margin-left: 10px; font-size: 12px;" checked [value]="true">New</mat-radio-button>
                            <mat-radio-button style="margin-left: 10px; font-size: 12px;"  [value]="false">Add to existing</mat-radio-button>
                          </mat-radio-group>
                    </div>
                <div class="mail-content" fxLayout="row">
                    <div fxLayout="row" fxFlex="40" *ngIf="isNewFolder">
                        <mat-form-field fxFlex="100" appearance="outline" class="pr-4" class="example-full-width">
                            <mat-label>New folder</mat-label>
                            <input matInput tabindex="1" formControlName="newfolder" required>
                            </mat-form-field>
                    </div>
                    <div fxLayout="row" fxFlex="40" *ngIf="!isNewFolder">
                        <mat-form-field fxFlex="100" appearance="outline" class="pr-4" class="example-full-width">
                            <mat-label>Add to existing folder</mat-label>
                            <mat-select formControlName="newfolder">
                                <mat-option *ngFor="let folder of filteredFolderList"
                                    [value]="folder.folderName"> {{folder.folderName}}
                                </mat-option>
                            </mat-select>
                            </mat-form-field>
                    </div>
                    <!-- <div fxLayout="row" fxFlex="5"></div>
                    <div fxLayout="row" fxFlex="20">
                        <mat-form-field fxFlex="100" appearance="outline" class="pr-4">
                            <mat-label>Folder Status</mat-label>
                            <mat-select [(value)]="defaultStatus" formControlName="status">
                                <mat-option [value]="1">Active</mat-option>
                                <mat-option [value]="0">Archive</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div> -->
                </div>
                </div>
                <div style="text-align: center !important;" class="mail-list-1" *ngIf="this.AllCandidates.length == 0">
                    <span>No candidates added</span>
                </div>
                <div class="mail-list-1" *ngIf="this.AllCandidates">
                    <div class="row-1" fxLayout="column" *ngFor="let candidate of AllCandidates" style="border: 1px solid rgba(0, 0, 0, 0.12);">
                        <div class="name" fxLayout="row" fxLayoutAlign="start center" fxFlex title="Name: {{candidate['Name']}}"  style="margin-left: 1%;margin-top:1%;text-overflow: ellipsis;white-space: nowrap;">
                            <div fxLayoutAlign="start center" fxLayout="row" fxFlex="95">
                                <div *ngIf="!candidate['ProfileImage']" 
                                class="inline-flex overflow-hidden relative justify-center items-center w-6 h-6 bg-blue-900 rounded-full dark:bg-gray-600 font-medium text-white"
                                style="border-radius: 50px !important">{{candidate['Name'][0]}}</div>
                                <div *ngIf="candidate['ProfileImage']" class="avatar">
                                    <img class="img" [src]="candidate['ProfileImage']" class="img-circle" width="180" style="vertical-align: middle !important; border-radius: 50px !important" />
                                </div>
                                <span class="text-truncate" style="font-weight: 600 !important;font-size: 18px !important;"><a style="color: rgb(17, 111, 191) !important;">{{candidate['Name']}}</a></span>
                                <span class="text-truncate" style="font-weight: 600 !important;font-size: 18px !important;"><a style="color: #000 !important;font-size: 15px;text-decoration: none;">, {{candidate['Designation']}}</a></span>
                                </div>
                                <div fxLayout="row" fxFlex="5">
                                <button matSuffix
                                    mat-icon-button aria-label="Clear"
                                    (click)="RemoveCandidate(candidate['Id'],'New')">
                                    <mat-icon style="font-size: 25px !important;color: red !important;">close</mat-icon>
                                </button>
                                </div>
                        </div><br>
                        <div class="row-2" fxLayout="row" fxLayoutAlign="start center">
                            <div style="padding-left: 50px;height: 25px; flex-direction: column;box-sizing: border-box;display: grid;place-content: flex-start;align-items: flex-start;">
                                <div class="subject text-truncate" style="font-size:12px;">
                                                        <span style="color:black !important;" class="truncate" title="CurrentEmployer:&nbsp;{{candidate['CurrentEmployer']}}"><b><span style="color:#000 !important" class="material-icons">business</span>  &nbsp;{{candidate['CurrentEmployer']}},</b></span>
                                                        &nbsp;&nbsp; 
                                                        <span title="Location: {{candidate['Location']}}"><span style="color:#000 !important" class="material-icons">location_on</span>&nbsp; <span  style="color:black !important;">{{candidate['Location']}},</span></span>
                                                        &nbsp;
                                                        <span>{{candidate['CreatedDate'] | date:'shortDate'}}</span>
                                                    </div>
                            </div>
                        </div>
                        <div class="row-3" fxLayout="row" fxLayoutAlign="start center">
                            <div style="padding-left: 50px;height:30px; flex-direction: column;box-sizing: border-box;display: initial;place-content: flex-start;align-items: flex-start;width: 100%;">
                                    <span fxFlex="80" style=" font-size: 15px; color: rgb(17, 111, 191) !important;margin-right: 50px;" class="truncate" title="Email:&nbsp;{{candidate['Email']}}"><b><span style="color:#000 !important" class="material-icons">email</span></b> &nbsp;{{candidate['Email']}}</span>
                                    <span fxFlex="20" style="font-size: 15px; color: rgb(17, 111, 191) !important;" class="truncate" title="Mobile Number:&nbsp;{{candidate['MobileNumber']}}"><b><span style="color:#000 !important" class="material-icons">call</span></b> &nbsp;{{candidate['MobileNumber']}}</span>
                                                        &nbsp;
                            </div>
                        </div>
                        <div class="row-4" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: 1% !important;margin-left: 50px;height: 30px;">
                            <div *ngFor="let skillID of candidate['Skills'].split(',') let i=index">
                            <span class="text-boxed" title="Skill {{i+1}}: {{skillID}}">{{skillID}}</span>&nbsp;&nbsp;</div>&nbsp;&nbsp;
                            <!-- <span class="truncate" title="Date:&nbsp;{{candidate['CreatedDate'] | date :  'MM/dd/yyyy'}}" style="float: right !important;color:black !important;"><b><span class="material-icons">calendar_today</span></b>&nbsp;{{candidate['CreatedDate'] | date :  "MM/dd/yyyy"}} </span> -->
                            <span style="font-size: 15px; color: #000 !important;font-weight: bold; border:1px solid; width: 60px; text-align: center;" class="truncate" title="Experience:&nbsp;{{candidate['Experience']}}"><b></b> &nbsp;{{candidate['Experience']}} Yrs</span>&nbsp;&nbsp;
                            <!-- <button class="downloadresume"   *ngIf="candidate['resumepath']"
                                mat-raised-button aria-label="Forward" (click)="DownloadResume(candidate['resumepath'])">
                                <span>Download CV</span>
                            </button> -->
                            <button class="downloadresume"   *ngIf="candidate['resumepath']"
                            class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                                aria-label="Forward" (click)="openModalviewresume(viewresume, candidate['resumepath'])">
                                <span>View Resume</span>
                            </button>
                </div>
                </div>
                </div>
                </form>
            </div>
        </div>
    </ng-template>
    
    <ng-template #EditFolderDialog>
        <div class="modal-content">
            <div class="modal-header">
            <div fxLayout="row" style="border-bottom: 1px solid#5D5D5D;" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="70" fxLayout="row">
                        <div fxLayout="row">
                            <span fxFlex="max-content" style="color: #474747;"><h2><b>{{curFolder}}</b></h2></span></div>
                    </div>
            <div fxFlex="30" style="display: flex; justify-content: space-between;">
                        <button  
                        class="mr-2 bg-transparent hover:bg-black-800 text-black-700 hover:text-white py-2 px-4 border border-black-500 hover:border-transparent rounded"
                                *ngIf="curFolderStatus == true" 
                                (click)="UpdateFolderStatus(!curFolderStatus)">Archive</button>
                        <button   
                        class="mr-2 bg-transparent hover:bg-black-800 text-black-700 hover:text-white py-2 px-4 border border-black-500 hover:border-transparent rounded"
                                *ngIf="curFolderStatus == false" 
                                (click)="UpdateFolderStatus(!curFolderStatus)">Activate</button>
                        <button
                        class="mr-2 bg-transparent hover:bg-blue-800 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                                mat-dialog-close 
                                [disabled]="this.EditFolderFormGroup.invalid"  
                                (click)="UpdateFolder()">Save</button>
                        <button  
                        class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                                mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                    
                </div>
            </div>  
            </div>
            <br>
            <div fxLayout="row" style="margin-bottom: 10px;">
                <div fxFlex="100">
                    <form fxLayout="column" [formGroup]="EditFolderFormGroup">
                    <div class="example-button-row" *ngIf="selectedCount !=0">
                            <span fxFlex="10" style="align-self: center !important;margin-bottom: 3% !important;">Selected: {{selectedCount}}</span>
                            <a fxFlex="10" style="cursor: pointer !important;align-self: center !important;margin-bottom: 3% !important;" (click)="RemoveCandidatesfromFolder()">Remove</a>
                            <mat-form-field fxFlex="50" appearance="outline" class="pr-4" class="example-full-width">
                                <mat-label>Move to another folder</mat-label>
                                <mat-select formControlName="folderId">
                                    <mat-option *ngFor="let folder of filteredFolderList"
                                        [value]="folder.folderName">{{folder.folderName}}
                                    </mat-option>
                                </mat-select>
                                </mat-form-field>
                   </div>
                </form>
                </div>
            </div>
            <div class="modal-body mail-details1" fxLayout="column">
                <div style="text-align: center !important;" class="mail-list-1" *ngIf="this.AllCandidates.length == 0">
                    <span>No candidates added</span>
                </div>
                <div class="mail-list-1" *ngIf="this.AllCandidates">
                    <div class="row-1" fxLayout="column" *ngFor="let candidate of AllCandidates" style="border: 1px solid rgba(0, 0, 0, 0.12);">
                        <div class="name" fxLayout="row" fxLayoutAlign="start center" fxFlex title="Name: {{candidate['Name']}}"  style="margin-left: 1%;margin-top:1%;text-overflow: ellipsis;white-space: nowrap;">
                            <div fxLayoutAlign="start center" fxLayout="row" fxFlex="95">
                                <mat-checkbox style="margin-right:10px; margin-left: 10px;" (click)="$event.stopPropagation()" (change)="isCandidateChecked($event,candidate['Id'])"></mat-checkbox>
                                <div *ngIf="!candidate['ProfileImage']" class="inline-flex overflow-hidden relative justify-center items-center w-6 h-6 bg-blue-900 rounded-full dark:bg-gray-600 font-medium text-white" style="border-radius: 50px !important">{{candidate['Name'][0]}}</div>
                                <div *ngIf="candidate['ProfileImage']" class="avatar">
                                    <img class="img" [src]="candidate['ProfileImage']" class="img-circle" width="180" style="vertical-align: middle !important; border-radius: 50px !important" />
                                </div>
                                <span class="text-truncate" style="font-weight: 600 !important;font-size: 18px !important;"><a style="color: rgb(17, 111, 191) !important;">{{candidate['Name']}}</a></span>
                                <span class="text-truncate" style="font-weight: 600 !important;font-size: 18px !important;"><a style="color: #000 !important;font-size: 15px;text-decoration: none;">, {{candidate['Designation']}}</a></span>
                                </div>
                                <div fxLayout="row" fxFlex="5">
                                <button matSuffix
                                    mat-icon-button aria-label="Clear"
                                    (click)="RemoveCandidate(candidate['Id'],'Edit')">
                                    <mat-icon style="font-size: 25px !important;color: red !important;">close</mat-icon>
                                </button>
                                </div>
                        </div>
                        <div class="row-2" fxLayout="row" fxLayoutAlign="start center">
                            <div style="padding-left: 50px;height: 25px; flex-direction: column;box-sizing: border-box;display: grid;place-content: flex-start;align-items: flex-start;">
                                <div class="subject text-truncate" style="font-size:12px;">
                                    <span style="color:black !important;" class="truncate" title="CurrentEmployer:&nbsp;{{candidate['CurrentEmployer']}}"><b><span style="color:#000 !important" class="material-icons">business</span>  &nbsp;{{candidate['CurrentEmployer']}},</b></span>
                                    &nbsp;&nbsp; 
                                    <!-- <span title="Location: {{candidate['Location']}}"><span style="color:#000 !important" class="material-icons">location_on</span>&nbsp; <span  style="color:black !important;">{{candidate['Location']}},</span></span>
                                    &nbsp; -->
                                    <span>{{candidate['CreatedDate'] | date:'shortDate'}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="row-3" fxLayout="row" fxLayoutAlign="start center">
                            <div style="padding-left: 50px;height: 25px; flex-direction: column;box-sizing: border-box;display: grid;place-content: flex-start;align-items: flex-start;">
                                <div class="subject text-truncate" style="font-size:12px;">
                                    <span title="Location: {{candidate['Location']}}"><span style="color:#000 !important" class="material-icons">location_on</span>&nbsp; <span  style="color:black !important;">{{candidate['Location']}},</span></span>
                                </div>
                            </div>
                        </div>
                        <div class="row-4" fxLayout="row" fxLayoutAlign="start center">
                            <div style="padding-left: 50px;height:30px; flex-direction: column;box-sizing: border-box;display: initial;place-content: flex-start;align-items: flex-start;width: 100%;">
                                    <span fxFlex="80" style=" font-size: 15px; color: rgb(17, 111, 191) !important;margin-right: 50px;" class="truncate" title="Email:&nbsp;{{candidate['Email']}}"><b><span style="color:#000 !important" class="material-icons">email</span></b> &nbsp;{{candidate['Email']}}</span>
                                    <span fxFlex="20" style="font-size: 15px; color: rgb(17, 111, 191) !important;" class="truncate" title="Mobile Number:&nbsp;{{candidate['MobileNumber']}}"><b><span style="color:#000 !important" class="material-icons">call</span></b> &nbsp;{{candidate['MobileNumber']}}</span>
                                                        &nbsp;
                            </div>
                        </div>
                        <div class="row-5" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: 1% !important;margin-left: 50px;height: 30px;">
                            <div *ngFor="let skillID of candidate['Skills'].split(',') let i=index">
                            <span class="text-boxed" title="Skill {{i+1}}: {{skillID}}">{{skillID}}</span>&nbsp;&nbsp;</div>&nbsp;&nbsp;
                             <span style="font-size: 15px; color: #000 !important;font-weight: bold; border:1px solid; width: 60px; text-align: center;" class="truncate" title="Experience:&nbsp;{{candidate['Experience']}}"><b></b> &nbsp;{{candidate['Experience']}} Yrs</span>&nbsp;&nbsp;                            
                        </div>
                        <br>
                <div class="row-5" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: 1% !important;margin-left: 50px;height: 30px;">
                    <button class="downloadresume"   *ngIf="candidate['resumepath']"
                    class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                        aria-label="Forward" (click)="openModalviewresume(viewresume, candidate['resumepath'])">
                        <span>View Resume</span>
                    </button>
                </div>
                </div>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template #UploadCandidateResume>

        
           

        <div  style="display: block !important;padding-left: 5%;">
                <!-- <img style="height: 50px !important; width: 150px;background-color: white;padding-left:25%"
                src="../../../../assets/images/logos/Success-icon.png"/> -->
                
                
                <div style="display: flex; justify-content: center; width:100%; align-items: center;padding-right: 10px; height: 100%; background-color: white;">
                    <!-- <img style="height: 40px; width: 100px; background-color: white; margin: 0 auto;" src="../../../../assets/images/logos/Success-icon.png"/> -->
                    <mat-icon  style="color: green !important; font-size: 40px !important; margin-top: 5px;">check_circle</mat-icon>
                  </div>
           <h1 mat-dialog-title>Candidate Info Saved Successfully. Please upload latest resume </h1>

                <br>
             <input type='file' #resumeInput (change)="onBlobFileInput($event)"   accept="application/msword,text/plain,application/pdf" style="display:none;">
            <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                 style="width:auto!important;height:auto!important; margin: 0px 10px 0px 0px; padding: 0px 11px 0px 5px;"   (click)="resumeInput.click()" color="accent">
              <!-- <mat-icon style="color: #fff !important; margin-top: 5px; "></mat-icon> -->
              <span>
                Add Resume
            </span>
            </button>
            &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;           &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;                &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;          
            <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" (click) ="CloseAllmatdialog()">
            <a  
                 color="warn">
                Later
            </a> </button>&nbsp;&nbsp;&nbsp;
            </div>
    </ng-template>


    <ng-template #viewresume>
        
        <div style="display: inline-block; margin-bottom: 10px; margin-right: 230px;">
            <button class="downloadresume" style="height: 40px;"
            class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                    aria-label="Forward" (click)="ViewDownloadResume(candidate['resumepath'])">
                    <span>Download</span>
                </button>&nbsp;&nbsp;
                <button class="downloadresume" style="height: 40px;"
                class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                aria-label="Forward">
                <span>Approve</span>
            </button>&nbsp;&nbsp;
            <button class="downloadresume" style="height: 40px;"
            class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
            aria-label="Forward">
            <span>Reject</span>
        </button>&nbsp;&nbsp;
        <button class="downloadresume" style="height: 40px;"
        class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
        aria-label="Forward">
        <span>Send Email</span>
    </button>
        </div>
        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
        mat-dialog-close tabindex="-1" style="cursor:pointer;"> 
           Close <!-- <svg class="mat_icon_svg"  style="height: 20px;width: 20px;"
          aria-hidden="true"
           >
           <use matTooltip="close" height="20" width="20" fill="white"
           xlink:href="assets/icons/material-icons/maticons.svg#icon-clear">
          </use>                                        
           </svg> -->
          </button>
    <iframe *ngIf="IsPdf && filepath" style="height: 100vh; width:100%; display: block;"
    ngx-document [src]="filepath"
       provider="google"></iframe>

   <iframe *ngIf="IsDoc && docpath" [src]="docpath"
   viewer="url" style="width:100%;height:100vh;">
   </iframe>
</ng-template>


<ng-template #AssignmentCanidate>
    <div class="modal-content">


      <div class="modal-header">
        <div fxLayout="row" fxLayoutAlign="start center"  fxLayout.gt-xs="column" fxLayout.gt-md="row" >
          <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
            <div fxFlex="90">
            
              <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
              style="width:auto!important;height:auto!important;cursor: text;">
                <mat-icon>reject</mat-icon>
                <span style="cursor: text;">
                    Assignment Canidate   
                </span>
              </button>

            </div>
            <div fxFlex="2">
              <button class="bg-red-600 rounded-md p-1 inline-flex items-center justify-center text-red-400 hover:text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" 
                    mat-dialog-close tabindex="-1" style="cursor:pointer;"> 
                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                      </svg>
                <!-- <svg class="mat_icon_svg"  style="height: 20px;width: 20px;"
              aria-hidden="true"
               >
               <use matTooltip="close" height="20" width="20" fill="white"
               xlink:href="assets/icons/material-icons/maticons.svg#icon-clear">
              </use>                                        
               </svg> -->
              </button>
            </div>
            <div fxFlex="3">
            </div>
            &nbsp;
          </div>
        </div>
        </div>

           
             <div class="modal-body"> 


              <mat-card style="border: 1px solid #607d8b !important;margin-top: 20px;">
                <mat-card-header style="background-color: #607d8b !important;">
                    <span style="font-weight: 500 !important;color: white;">  </span>
                </mat-card-header>
                <mat-card-content>

                  <h4 class="modal-title pull-left">Candidate Rejection Form for <b>{{candidate.Name}}</b> </h4>
                  <div style="margin-top:-4%">
                    <br>
                  <b>Candidate Email:</b>{{candidate.Email}} <br/>
                  <b>Created Date:</b> &nbsp;{{ candidate.CreatedDate | date :  'dd/MM/yyyy' }}<br/>
                    <b>Recruiter Name:</b>&nbsp;{{userName}}<br/>
                    <b>Recruiter Email:</b>{{loggedInfo.Email}} <br/>
                   <b>Reason for Rejection</b> <br/>
                          <textarea matInput [innerHTML]="getInnerHTML(RejectInterviewMessageBody)" style="border: 1px solid black ;" id="txtEmailBody" formControlName="EmailBody" 
                          maxlength="250" rows="10" cols="50" name="comment" formControlName="RejectReason" [(ngModel)]="reasonforReject" >
                                  </textarea>
                          <br>                                                       
                          <span><em>{{250 - reasonforReject?.length}} characters left</em></span> 
                          </div>
                  <div>
                      <br>
                      <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                      (click)= "DeleteCandidate('Rejected')"  ><span>Save</span></button>
                      &nbsp;&nbsp; 
                  <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                  id="btnCancelRejectData" (click)="ClearRejectdata()"><span>Clear</span></button> </div>
                </mat-card-content>
              </mat-card>

          </div>
    </div>
</ng-template>
<ng-template #AssignmentInterviewer>
    <div class="modal-content">
        <div class="modal-header">
        <div fxLayout="row" style="border-bottom: 1px solid#5D5D5D;" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
            <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                <div fxFlex="50">
                    <span><h2><b>Assignment</b></h2></span>
                </div>
                <div fxFlex="50">
                    <mat-checkbox></mat-checkbox>&nbsp;&nbsp;
                    <span>Assignments of Questions Completed</span>&nbsp;&nbsp;
                    <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                        mat-dialog-close color="accent">Submit</button>&nbsp;&nbsp;
                    <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                        mat-dialog-close tabindex="-1" (click)="resetAdvance()">Cancel</button>
                </div>
            </div>
        </div>            
        </div>
        <br>
        <div class="modal-body mail-details1">
            <div class="mail-content" fxLayout="column">
                <div fxLayout="row" style="margin-bottom: 30px;" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                        <div fxFlex="70">
                            <span style="font-weight: bold;font-size:16px;">Interview ID:&nbsp;&nbsp;
                                <span style="font-size: 16px !important;color: blue !important;font-weight: 500 !important;">i02 01Jun2021 v</span></span>
                            <span  style="font-weight: bold;font-size:16px;">Candidate Name:&nbsp;&nbsp;
                            <span style="font-size: 16px !important;color: blue !important;font-weight: 500 !important;">{{commonfieldName}}</span></span><br>
                            <span  style="font-weight: bold;font-size:16px;">Tagged Job:&nbsp;&nbsp;
                                <span style="font-size: 16px !important;color: blue !important;font-weight: 500 !important;">Job Title</span></span>&nbsp;&nbsp;
                            <span  style="font-weight: bold;font-size:16px;">Level:&nbsp;&nbsp;
                            <span style="font-size: 16px !important;color: blue !important;font-weight: 500 !important;">Mid-Senior</span></span>&nbsp;&nbsp;
                            <span  style="font-weight: bold;font-size:16px;">Skills:&nbsp;&nbsp;
                                <span style="font-size: 18px !important;">C# Asp.Net Angular</span></span>
                        </div>
                        <div fxFlex="30">
                            <button style="height: 35px;width: 200px;border: none;color: #fff;background: grey;">10 Questions added</button>&nbsp;&nbsp;
                            <button style="color:red;border: none;background: none;">Clear All</button>
                        </div>
                    </div>
                </div>  
                <div>
                    <div fxLayout="row">
                        <span>Selected: {{selectedRowsCnt}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <span style="font-weight: bold;">Added to: <span style="color: blue;">i02 01Jun2021</span></span>
                        <div style="margin-top: -20px;margin-left: 40%;">
                            <mat-form-field fxFlex="30" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-select [(value)]="defaultSkill" (selectionChange)="changestage($event.value)">
                                    <mat-option value="Select" selected=true>Skill</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field fxFlex="30" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-select [(value)]="defaultLevel" (selectionChange)="changestage($event.value)">
                                    <mat-option value="Select" selected=true>Level</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field fxFlex="30" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-select [(value)]="defaultRating" (selectionChange)="changestage($event.value)">
                                    <mat-option value="Select" selected=true>Rating</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <ag-grid-angular #agGrid style="height: 240px;" id="myGrid" class="ag-theme-alpine" [context]="context"
            [gridOptions]="gridOptions" [rowData]="rowData" (gridReady)="onGridReady($event)"
            (filterChanged)="onGridFilterChanged()" [defaultColDef]="defaultColDef" [rowSelection]="rowSelection"
            [frameworkComponents]="frameworkComponents" (selectionChanged)="onSelectionChanged($event)">
                </ag-grid-angular>
                </div>
                <div fxLayout="row">
                    <div fxFlex="80">
                        <div fxLayout="row">
                        <span><h2><b>Add or Edit Question</b></h2></span><br>
                    </div>
                    <div fxLayout="row">
                        <mat-form-field fxFlex="23" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                            <mat-select [(value)]="defaultSkill" (selectionChange)="changestage($event.value)">
                                <mat-option value="Select" selected=true>Skill</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field fxFlex="23" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                            <mat-select [(value)]="defaultLevel" (selectionChange)="changestage($event.value)">
                                <mat-option value="Select" selected=true>Level</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field fxFlex="23" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                            <mat-select [(value)]="defaultRating" (selectionChange)="changestage($event.value)">
                                <mat-option value="Select" selected=true>Rating</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field fxFlex="23" class="clsmatselect" style="margin-right: 15px !important;margin-left: 15px;">
                            <mat-select [(value)]="defaultExpAnswer" (selectionChange)="changestage($event.value)">
                                <mat-option value="Select" selected=true>Expected Answer</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    </div>
                    <div fxFlex="20" style="margin-top: 40px !important; margin-left: 25px !important;">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                        mat-dialog-close >Save</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                        mat-dialog-close tabindex="-1">Cancel</button>
                    </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <div fxFlex="50">
                        <textarea matInput placeholder="Enter Question" style="border: 1px solid black ;" id="txtEmailBody" formControlName="EmailBody" maxlength="250" rows="10" cols="50" name="comment" formControlName="RejectReason" [(ngModel)]="reasonforReject" >
                        </textarea>
                    </div>
                    <div fxFlex="50" style="margin-left: 20px !important;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: initial !important;font-size: 18px;">A </div>&nbsp;&nbsp;
                            <input  matInput style="width: 85% !important; border: 1px solid !important;height: 30px !important;"><br>    
                        </div>
                        <div  style="margin-bottom: 15px;">
                            <div style="display: initial !important;font-size: 18px;">B </div>&nbsp;&nbsp;
                            <input  matInput style="width: 85% !important; border: 1px solid !important;height: 30px !important;"><br>    
                        </div>
                        <div  style="margin-bottom: 15px;">
                            <div style="display: initial !important;font-size: 18px;">C </div>&nbsp;&nbsp;
                            <input  matInput style="width: 85% !important; border: 1px solid !important;height: 30px !important;"><br>    
                        </div>
                        <div  style="margin-bottom: 15px;">
                            <div style="display: initial !important;font-size: 18px;">D </div>&nbsp;&nbsp;
                            <input  matInput style="width: 85% !important; border: 1px solid !important;height: 30px !important;"><br>    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #TechnicalInterviewerUsersDialog>
    <div id='divInterview' class="modal-content">
        <div class="modal-header">

            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="70">
                        <span><h2><b>Interview</b></h2></span>
                    </div>
                    <div fxFlex="30">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"   
                        (click)="SubmitInterview()" >Submit</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                        mat-dialog-close>Cancel</button>
                    </div>
                    
                </div>
            </div>
            
            <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 1% !important;min-height:15px !important;border-bottom: 1px solid !important;"></div>
            <!-- <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center" style="margin: 2% !important;">
                    <div fxFlex="60" fxLayout="row">

                            <span fxFlex="20" style="color: #595959 !important;margin-top:20px;max-width: 30%;">Interview Type  </span>&nbsp;&nbsp;
            
                            <mat-form-field fxFlex="100%" formControl  placeholder="Select Interview Type"   style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-label>Select Interview Type</mat-label>

                                <mat-select  [(value)]="ModifyInterviewType"   (selectionChange)="ChangeInterviewType($event.value)">
                                    <mat-option value="HR">HR</mat-option> 
                                    <mat-option value="Technical">Technical</mat-option>
                                    <mat-option value="Assignment">Assignment</mat-option>
                                    <mat-option value="Assessment">Assessment</mat-option>
                                    <mat-option value="Management">Management</mat-option>
                                </mat-select>
                            </mat-form-field>
                     </div>
                </div>
            </div> -->
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center" style="margin: 2% !important;">
                    <div fxFlex="60" fxLayout="row">

                        <span fxFlex="20" style="color: #595959 !important;margin-top:20px;max-width: 30%;">Interview Type  </span>

                        <mat-form-field fxFlex="100%" placeholder="Select Interview Type" style="margin-right: 15px !important;margin-left: 15px;">
                            <mat-label>Select Interview Type</mat-label>

                            <mat-select [(value)]="ModifyInterviewType" (selectionChange)="ChangeInterviewType($event.value)">
                                <mat-option value="Select">Select</mat-option>
                                <mat-option value="HR">HR</mat-option>
                                <mat-option value="Technical">Technical</mat-option>
                                <mat-option value="Assignment">Assignment</mat-option>
                                <mat-option value="Assessment">Assessment</mat-option>
                                <mat-option value="Management">Management</mat-option>
                            </mat-select>
                        </mat-form-field>

                    </div>
                </div>
            </div>
        
        <!-- <form fxLayout="column">   -->
            <!-- <span *ngIf="this.ScheduleFormGroup.invalid" style="text-align-last: right !important; margin-right:2% !important; margin-bottom: 5px !important; font-size: 15px !important; color:red !important;">* Please enter all required fields</span> -->
            <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 2% !important;">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="100" fxLayout="column">
                        <div fxFlex="96" fxLayout="column" style="max-width: 96% !important;border: 1px #E0E0E0 solid !important">
                        <div fxFlex="100" fxLayout="column" style="margin: 2% !important;">
                            <div fxFlex="100" fxLayout="row">
                            <span fxFlex="10" style="color: #595959 !important;margin-top:20px;">Mode</span>&nbsp;
                            <mat-form-field fxFlex="45%" formControl  placeholder="Select Interview Mode" [(ngModel)]="InterviewModeSelected"  
                                style="margin-right: 15px !important;margin-left: 15px;">
                                    <mat-label>Select Interview Mode</mat-label>         
                                                                     
                                    <mat-select 
                                        [(ngModel)]="ModifyInterviewMode" 
                                        (ngModelChange)="ModifyInterviewMode" 
                                        placeholder="Select Interview Mode" multiple>
                                        <mat-option *ngFor="let _mode of InterviewMode" [value]="_mode.Mode">
                                            {{_mode.Mode}}
                                        </mat-option>
                                    </mat-select>
                                    
                             </mat-form-field>
                            </div>

                            <div fxFlex="100" fxLayout="row">
                                <span fxFlex="10" style="margin-top:20px !important;">When</span>&nbsp;&nbsp;&nbsp;&nbsp;
                                <mat-form-field>
                                    <mat-label>Date</mat-label>
                                    <input  matInput [matDatepicker]="TechnicalInterview" placeholder="Select Date"  [(value)]="ModifyInterviewDate"  [(ngModel)]="SelectTechnicalInterviewDate"  
                                    (dateInput)="inputEvent($event)" (dateChange)="changeEvent($event)"  
                                     [min] = "today">
                                    <mat-datepicker-toggle matSuffix [for]="TechnicalInterview"  ></mat-datepicker-toggle>
                                    <mat-datepicker #TechnicalInterview  [(ngModel)]="SelectTechnicalInterviewDate" ></mat-datepicker>
                                </mat-form-field>&nbsp;&nbsp;
                                 <mat-form-field fxFlex="15" [(ngModel)]="InterviewTimeFromSelected">
                                    <mat-label>From</mat-label>
                                    <mat-select fxFlex="100" [(value)]="ModifyInterviewFrom"  (selectionChange)="InterviewTimeFrom($event.value)" 
                                    required >
                                        <mat-option *ngFor="let time of timers"
                                                    [value]="time">
                                            {{time}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>&nbsp;&nbsp;
                                <mat-form-field fxFlex="10" [(ngModel)]="InterviewTimeType">
                                    <mat-label></mat-label>
                                    <mat-select fxFlex="100"    [(value)]="ModifyInterviewTimeType"  (selectionChange)="InterviewTimeTypeEvent($event.value)" >
                                        <mat-option *ngFor="let type of timeType"
                                                    [value]="type">
                                            {{type}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                        </div>

                        <div fxFlex="100" fxLayout="row">
                            <span fxFlex="10" style="margin-top:20px !important;">Who</span>
                            <mat-form-field fxFlex="25" InterviewWhoSelected class="clsmatinterviewselect" style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-label>Interviewer Name</mat-label>

                                <mat-select  
                                [(ngModel)]="ModifyInterviewers" 
                                (ngModelChange)="ModifyInterviewers" name="ModifyInterviewers" 
                                placeholder="Select Interviewer" multiple>
                                <mat-option *ngFor="let _interviewers of interviewers" [value]="_interviewers.Name">
                                    {{_interviewers.Name}}
                                </mat-option>
                              </mat-select>

                            </mat-form-field>
                        </div>
                    </div>

                  
                <div fxFlex="100" fxLayout="column">
                    <div fxFlex="100" fxLayout="row">

                        <span class="mat-cell text-truncate" style="max-width: 35% !important;">Message to <span *ngFor="let hr of selectedUserRoles let i=index" class="mat-cell"><span *ngIf="i<selectedUserRoles.length-1">{{hr}}/</span><span *ngIf="i==selectedUserRoles.length-1">{{hr}}</span>&nbsp;</span>:</span>&nbsp;
                        <span class="mat-cell text-truncate" style="max-width: 65% !important;">
                        <span *ngFor="let email of selectedUserEmail let i=index" class="mat-cell">
                        <span style="color: #449DED !important;">{{email}}</span>&nbsp;
                    </span>
                </span>&nbsp;

                     
                    </div><br>

                <div fxFlex="100" fxLayout="column" contenteditable="true" style="border: 1px solid;padding: 1% !important;">
                    <span class="mat-cell text-truncate" style="max-width: 100% !important;">Dear <span *ngFor="let hr of selectedUserRoles let i=index" class="mat-cell"><span *ngIf="i<selectedUserRoles.length-1">{{hr}}/</span><span *ngIf="i==selectedUserRoles.length-1">{{hr}}</span></span>,</span>
                    Mr. {{commonfieldName}} profile is selected for 'Advance' and please carry forward hiring process. <br>
                    <div fxFlex="100" fxLayout="row">
                    <div fxFlex="5" fxLayout="column">Link : </div><div fxFlex="95" fxLayout="column" contentEditable="false"><a href="https://atswebapi.azurewebsites.net/candidates/edit-candidate/{{editCandidateID}}">https://atswebapi.azurewebsites.net/candidates/edit-candidate/{{editCandidateID}}</a></div><br>
                    </div>
                    Regards, <br>
                    {{userName}}
                </div>
                </div><br>
                <div fxFlex="100" fxLayout="column">
                    <span class="mat-cell">Message to Candidate:&nbsp;<span style="color: #449DED !important;">{{this.commonfieldEmail}}</span></span><br>
                    <div fxFlex="100" contenteditable="true" style="border: 1px solid;padding: 1% !important;">
                        Dear {{commonfieldName}}, <br>
                        Congrats! You have been short-listed for a position at {{commonfieldCompany}}, our HR will contact you soon<br>
                        Regards, <br>
                        {{userName}}
                    </div>
                </div>

                    </div>
                    </div>
                </div>
            </div>
        <!-- </form> -->
    
        </div>
    </div>
</ng-template>



<ng-template #TechnicalInterviewerUsersDialogModify>
    <div id='divInterview' class="modal-content">
        <div class="modal-header"  >
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="80">
                        <span><h2><b>Interview</b></h2></span>
                    </div>
                    <div fxFlex="20">
                        <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                        (click)="UpdateInterview()" >Modify</button>&nbsp;&nbsp;
                        <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                        mat-dialog-close>Cancel</button>
                    </div>
                </div>
            </div>
            <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 1% !important;min-height:15px !important;border-bottom: 1px solid !important;"></div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center" style="margin: 2% !important;">
                    <div fxFlex="60" fxLayout="row">
                            <span fxFlex="20" style="color: #595959 !important;margin-top:20px;max-width: 30%;">Interview Type  </span>&nbsp;&nbsp;
            
                            <mat-form-field fxFlex="100%" formControl  placeholder="Select Interview Type"   style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-label>Select Interview Type</mat-label>

                                <mat-select  [(value)]="ModifyInterviewType"   (selectionChange)="ChangeInterviewType($event.value)">
                                    <mat-option value="HR">HR</mat-option> 
                                    <mat-option value="Technical">Technical</mat-option>
                                    <mat-option value="Assignment">Assignment</mat-option>
                                    <mat-option value="Assessment">Assessment</mat-option>
                                    <mat-option value="Management">Management</mat-option>
                                </mat-select>
                            </mat-form-field>
                     </div>
                </div>
            </div>
            <div fxLayout="row" fxLayout.gt-xs="column" fxLayout.gt-md="row" style="margin-bottom: 2% !important;">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="100" fxLayout="column">
                        <div fxFlex="96" fxLayout="column" style="max-width: 96% !important;border: 1px #E0E0E0 solid !important">
                        <div fxFlex="100" fxLayout="column" style="margin: 2% !important;">
                            <div fxFlex="100" fxLayout="row">
                            <span fxFlex="10" style="color: #595959 !important;margin-top:20px;">Mode</span>&nbsp;&nbsp;
                            <mat-form-field fxFlex="100%" formControl  placeholder="Select Interview Mode" [(ngModel)]="InterviewModeSelected"  style="margin-right: 15px !important;margin-left: 15px;">
                                    <mat-label>Select Interview Mode</mat-label>         
                                     
                                    <mat-select 
                                        [(ngModel)]="ModifyInterviewMode" 
                                        (ngModelChange)="ModifyInterviewMode" name="ModifyInterviewMode" 
                                        placeholder="Select Interview Mode" multiple>
                                        <mat-option *ngFor="let _mode of InterviewMode" [value]="_mode.Mode">
                                            {{_mode.Mode}}
                                        </mat-option>
                                    </mat-select>
                             </mat-form-field>
                            </div>
                            <div fxFlex="100" fxLayout="row">
                                <span fxFlex="10" style="margin-top:20px !important;">When</span>
                                <mat-form-field>
                                    <mat-label>Date</mat-label>
                                    <input  matInput [matDatepicker]="TechnicalInterview" placeholder="Select Date"  [(value)]="ModifyInterviewDate"  [(ngModel)]="SelectTechnicalInterviewDate"  (dateInput)="inputEvent($event)" (dateChange)="changeEvent($event)"  
                                    formControlName="TechnicalInterviewDate" [min] = "today">
                                    <mat-datepicker-toggle matSuffix [for]="TechnicalInterview"  ></mat-datepicker-toggle>
                                    <mat-datepicker #TechnicalInterview  [(ngModel)]="SelectTechnicalInterviewDate" ></mat-datepicker>
                                </mat-form-field>&nbsp;&nbsp;
                                 <mat-form-field fxFlex="10" [(ngModel)]="InterviewTimeFromSelected">
                                    <mat-label>From</mat-label>
                                    <mat-select fxFlex="100"    [(value)]="ModifyInterviewFrom"  (selectionChange)="InterviewTimeFrom($event.value)" >
                                        <mat-option *ngFor="let time of timers"
                                                    [value]="time">
                                            {{time}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>&nbsp;&nbsp;
                                <mat-form-field fxFlex="10" [(ngModel)]="InterviewTimeType">
                                    <mat-label></mat-label>
                                    <mat-select fxFlex="100"    [(value)]="ModifyInterviewTimeType"  (selectionChange)="InterviewTimeTypeEvent($event.value)" >
                                        <mat-option *ngFor="let type of timeType"
                                                    [value]="type">
                                            {{type}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                        </div>
                        <div fxFlex="100" fxLayout="row">
                            <span fxFlex="10" style="margin-top:20px !important;">Who</span>
                            <mat-form-field fxFlex="25" InterviewWhoSelected class="clsmatinterviewselect" style="margin-right: 15px !important;margin-left: 15px;">
                                <mat-label>Interviewer Name</mat-label>

                                <mat-select 
                                [(ngModel)]="ModifyInterviewers" 
                                (ngModelChange)="ModifyInterviewers" name="ModifyInterviewers" 
                                placeholder="Select Interviewer" multiple>
                                <mat-option *ngFor="let _interviewers of interviewers" [value]="_interviewers.Name">
                                    {{_interviewers.Name}}
                                </mat-option>
                              </mat-select>

                            </mat-form-field>
                        </div>
                    </div>
                    <div fxFlex="100" fxLayout="row" style="margin-left: 2% !important;margin-bottom: 2% !important;">
                        <mat-accordion fxFlex="98">
                            <mat-expansion-panel>
                                <mat-expansion-panel-header class="mat-row" style="height: auto !important;">
                                    <span class="mat-cell">Message to Candidate:&nbsp;<span style="color: #449DED !important;">{{this.commonfieldEmail}}</span></span><br>
                                </mat-expansion-panel-header>
                                <div style="margin-left:10px;">
                                    <textarea [innerHTML]="getInnerHTML(InterviewMessageBody)" cols="100" rows="5"></textarea>
                            </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div><br>
                    <div fxFlex="100" fxLayout="row" style="margin-left: 2% !important;margin-bottom: 2% !important;">
                        <mat-accordion fxFlex="98">
                            <mat-expansion-panel>
                                <mat-expansion-panel-header class="mat-row">
                                    <span class="mat-cell">Message to Interviewer:&nbsp;<span style="color: #449DED !important;">{{this.selectedInterviewers}}</span></span>
                                </mat-expansion-panel-header>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #ActiveJobs>
    <div class="modal-content">
        <div class="modal-header">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.gt-xs="column" fxLayout.gt-md="row">
                <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                    <div fxFlex="90">
                        <span>Select Job</span>
                    </div>
                    <div fxFlex="2">
                        <button  class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                         mat-dialog-close tabindex="-1"
                                style="cursor:pointer;">Close
                            <!-- <svg class="mat_icon_svg" style="height: 20px;width: 20px;"
                                 aria-hidden="true">
                                <use matTooltip="close" height="20" width="20" fill="white"
                                     xlink:href="assets/icons/material-icons/maticons.svg#icon-clear">
                                </use>
                            </svg> -->
                        </button>
                    </div>
                    <div fxFlex="3">
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
        <br>
        <div class="modal-body mail-details1">
            <div class="mail-content">
                <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field appearance="outline" fxFlex="100" class="pr-4" *ngIf="openJobsList">
                        <mat-label>Job *</mat-label>
                        <mat-select multiple (selectionChange)="selectedjobs($event)">
                            <mat-option *ngFor="let _openJob of openJobsList"
                                        [value]="formatString(_openJob.Id)">
                                       {{_openJob.Id}} | {{_openJob.Title}} | {{_openJob.CompanyName}} | {{_openJob.WorkSite}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <br>
            <div style="text-align: center !important;">
                <button class="bg-transparent hover:bg-blue-500 text-blue-700 hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" 
                        (click)="ApplyMultipleJobs()"
                             style="text-align: left !important;height:35px;width: 15%;margin-top: 15px;margin-left: 10px;">
                             Assign   
                             <!-- <span style="display: flex;">
                                  <a style="color: white !important;text-decoration: none; padding-top: 1px;"  >Assign</a>    
                                </span> -->
                            </button>
                &nbsp;&nbsp;
                <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                style="text-align: left !important;height:35px;width: 15%;margin-top: 15px;margin-left: 10px;"
                mat-dialog-close >
                Close
                    <!-- <span style="display: flex;">
                     <a style="color: white !important;text-decoration: none; padding-top: 1px;"  >Close</a>    
                   </span> -->
               </button>
            </div>
        </div>
    </div>
</ng-template>

    <div class="d-flex justify-content-center" *ngIf="!isVisible">
        <div class="spinner-border" role="status" >
          <span class="sr-only" id="loading"></span>
        </div>
      </div>



      <ng-template #InterviewCancelmodal>
        <div class="modal-content">
          <div class="modal-header">
            <div fxLayout="row" fxLayoutAlign="start center"  fxLayout.gt-xs="column" fxLayout.gt-md="row" >
              <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
                <div fxFlex="90">
                    <span style="font-size: 20px;font-weight: 600;">Candidate Cancellationtion : {{commonfieldName}}</span>
                  <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded"
                  (click)="CancelcandidateInterview()" style="width:auto!important;height:auto!important;cursor: pointer;float:right;margin-right: 5px;">
                    <span style="cursor: pointer;">
                        Cancel Interview   
                    </span>
                  </button>
    
                </div>
                <div fxFlex="2">
                  <button class="mr-2 bg-transparent hover:bg-red-800 text-red-700 hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" 
                    mat-dialog-close tabindex="-1" style="cursor:pointer;"> 
                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    <!-- <svg class="mat_icon_svg"  style="height: 20px;width: 20px;"
                  aria-hidden="true"
                   >
                   <use matTooltip="close" height="20" width="20" fill="white"
                   xlink:href="assets/icons/material-icons/maticons.svg#icon-clear">
                  </use>                                        
                   </svg> -->
                  </button>
                </div>
                <div fxFlex="3">
                </div>
                &nbsp;
              </div>
            </div>
            </div>
                <div class="modal-body"> 
                  <mat-card style="border: 1px solid #607d8b !important;margin-top: 20px;">
                    <mat-card-header style="background-color: #607d8b !important;">
                        <span style="font-weight: 500 !important;color: white;">  </span>
                    </mat-card-header>
                    <mat-card-content>
                        <b>Recruiter Name:</b>&nbsp;{{userName}}<br/>
                      <div style="margin-top:-4%">
                        <br>
                       <b>Reason for Cancellation</b> <br/>
                            <div>
                              <textarea [innerHTML]="getInnerHTML(RejectInterviewMessageBody)" matInput style="border: 1px solid black ;" id="txtEmailBody" maxlength="250" rows="10" cols="50" name="comment">
                                      </textarea>
                                    </div>
                              <br>                                                       
                              <span><em>{{250 - reasonforReject?.length}} characters left</em></span> 
                              </div>
                    </mat-card-content>
                  </mat-card>
    
              </div>
        </div>
    </ng-template>
